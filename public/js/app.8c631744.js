(function(t){function e(e){for(var s,i,n=e[0],l=e[1],c=e[2],u=0,m=[];u<n.length;u++)i=n[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&m.push(o[i][0]),o[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,n=1;n<a.length;n++){var l=a[n];0!==o[l]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},o={app:0},r=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034b":function(t,e,a){},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(t){var e=r(t);return a(e)}function r(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}o.keys=function(){return Object.keys(s)},o.resolve=r,t.exports=o,o.id="4678"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s,o,r,i,n=a("2b0e"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"PURCHASE PRODUCTS"!=t.currentRouteName&&"Print Inventory"!=t.currentRouteName&&"Print Sales"!=t.currentRouteName&&"SALES RECEIPT"!=t.currentRouteName&&"EXPENSE DETAILS"!=t.currentRouteName&&"REMITTANCE"!=t.currentRouteName&&"PSPOILAGE"!=t.currentRouteName?a("div",{staticClass:"container-fluid",attrs:{id:"app"}},[t.$session.exists()?a("nav",{staticClass:"navbar navbar-expand-md navbar-light bg-transparent"},[a("router-link",{staticClass:"navbar-brand sansita",attrs:{to:"/"}},[t._v("Generic POS")]),a("div",{staticClass:"navbar-collapse collapse w-100 order-1 order-md-0 dual-collapse2"}),a("div",{staticClass:"mr-5 order-0"},[a("a",{staticClass:"navbar-brand",staticStyle:{"margin-right":"80px"},attrs:{href:"#"}},[t._v(t._s(t.currentRouteName))]),t._m(0)]),a("div",{staticClass:"navbar-collapse collapse w-100 order-2 dual-collapse2"},[a("ul",{staticClass:"navbar-nav ml-auto"},[a("li",{staticClass:"nav-item"},[t._v(" "+t._s(t.someDate)+" ")])])])],1):t._e(),a("div",{staticClass:"container-full"},[a("router-view")],1)]):a("div",{attrs:{id:"app"}},[a("div",{staticClass:"container-full"},[a("router-view")],1)])},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":".dual-collapse2"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],d=(a("b0c0"),a("c1df")),u=a.n(d),m={data:function(){return{someDate:new Date}},computed:{currentRouteName:function(){return this.$route.name}},created:function(){var t=this;setInterval((function(){t.someDate=u()().format("dddd, MMMM Do YYYY, h:mm:ss a")}),1e3)},methods:{}},p=m,_=a("2877"),v=Object(_["a"])(p,l,c,!1,null,null,null),f=v.exports,h=a("8c4f"),g=a("0628"),b=a.n(g),C=a("1fca"),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-3 col-sm-6 col-12 p-3"},[a("router-link",{attrs:{to:"/terminal"}},[a("div",{staticClass:"card bg-dark text-white",staticStyle:{cursor:"pointer"}},[a("div",{staticClass:"card-content p-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"media d-flex"},[a("div",{staticClass:"align-self-center"},[a("i",{staticClass:"fas fa-cash-register fa-5x float-left"})]),a("div",{staticClass:"media-body align-self-end text-right"},[a("h3",[t._v("Cash Register")])])])])])])])],1),a("div",{staticClass:"col-xl-3 col-sm-6 col-12 p-3"},[a("router-link",{attrs:{to:"/product"}},[a("div",{staticClass:"card bg-dark text-white",staticStyle:{cursor:"pointer"}},[a("div",{staticClass:"card-content p-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"media d-flex"},[a("div",{staticClass:"align-self-center"},[a("i",{staticClass:"fas fa-shopping-basket fa-5x float-left"})]),a("div",{staticClass:"media-body align-self-end text-right"},[a("h3",[t._v("Products")])])])])])])])],1),a("div",{staticClass:"col-xl-3 col-sm-6 col-12 p-3"},[a("router-link",{attrs:{to:"/category"}},[a("div",{staticClass:"card bg-dark text-white",staticStyle:{cursor:"pointer"}},[a("div",{staticClass:"card-content p-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"media d-flex"},[a("div",{staticClass:"align-self-center"},[a("i",{staticClass:"fas fa-tags fa-5x float-left"})]),a("div",{staticClass:"media-body align-self-end text-right"},[a("h3",[t._v("Categories")])])])])])])])],1),a("div",{staticClass:"col-xl-3 col-sm-6 col-12 p-3"},[a("router-link",{attrs:{to:"/purchase"}},[a("div",{staticClass:"card bg-dark text-white",staticStyle:{cursor:"pointer"}},[a("div",{staticClass:"card-content p-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"media d-flex"},[a("div",{staticClass:"align-self-center"},[a("i",{staticClass:"fas fa-shopping-bag fa-5x float-left"})]),a("div",{staticClass:"media-body align-self-end text-right"},[a("h3",[t._v("Purchase")])])])])])])])],1),a("div",{staticClass:"col-xl-3 col-sm-6 col-12 p-3"},[a("router-link",{attrs:{to:"/sales-report"}},[a("div",{staticClass:"card bg-dark text-white",staticStyle:{cursor:"pointer"}},[a("div",{staticClass:"card-content p-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"media d-flex"},[a("div",{staticClass:"align-self-center"},[a("i",{staticClass:"fas fa-store fa-5x float-left"})]),a("div",{staticClass:"media-body align-self-end text-right"},[a("h3",[t._v("Sales Report")])])])])])])])],1),a("div",{staticClass:"col-xl-3 col-sm-6 col-12 p-3"},[a("router-link",{attrs:{to:"/inventory"}},[a("div",{staticClass:"card bg-dark text-white",staticStyle:{cursor:"pointer"}},[a("div",{staticClass:"card-content p-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"media d-flex"},[a("div",{staticClass:"align-self-center"},[a("i",{staticClass:"fas fa-boxes fa-5x float-left"})]),a("div",{staticClass:"media-body align-self-end text-right"},[a("h3",[t._v("Inventory")])])])])])])])],1),a("div",{staticClass:"col-xl-3 col-sm-6 col-12 p-3"},[a("router-link",{attrs:{to:"/cash-drop"}},[a("div",{staticClass:"card bg-dark text-white",staticStyle:{cursor:"pointer"}},[a("div",{staticClass:"card-content p-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"media d-flex"},[a("div",{staticClass:"align-self-center"},[a("i",{staticClass:"fas fa-file-invoice-dollar fa-5x float-left"})]),a("div",{staticClass:"media-body align-self-end text-right"},[a("h3",[t._v("Cash Drop")])])])])])])])],1),a("div",{staticClass:"col-xl-3 col-sm-6 col-12 p-3"},[a("router-link",{attrs:{to:"/expense"}},[a("div",{staticClass:"card bg-dark text-white",staticStyle:{cursor:"pointer"}},[a("div",{staticClass:"card-content p-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"media d-flex"},[a("div",{staticClass:"align-self-center"},[a("i",{staticClass:"fas fa-money-check-alt fa-5x float-left"})]),a("div",{staticClass:"media-body align-self-end text-right"},[a("h3",[t._v("Expense")])])])])])])])],1),a("div",{staticClass:"col-xl-3 col-sm-6 col-12 p-3"},[a("router-link",{attrs:{to:"/spoilage"}},[a("div",{staticClass:"card bg-dark text-white",staticStyle:{cursor:"pointer"}},[a("div",{staticClass:"card-content p-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"media d-flex"},[a("div",{staticClass:"align-self-center"},[a("i",{staticClass:"fas fa-exchange-alt fa-5x float-left"})]),a("div",{staticClass:"media-body align-self-end text-right"},[a("h3",[t._v("Spoilages")])])])])])])])],1),a("div",{staticClass:"col-xl-3 col-sm-6 col-12 p-3"},[a("router-link",{attrs:{to:"/supplier"}},[a("div",{staticClass:"card bg-dark text-white",staticStyle:{cursor:"pointer"}},[a("div",{staticClass:"card-content p-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"media d-flex"},[a("div",{staticClass:"align-self-center"},[a("i",{staticClass:"fas fa-truck fa-5x float-left"})]),a("div",{staticClass:"media-body align-self-end text-right"},[a("h3",[t._v("Supplier")])])])])])])])],1),a("div",{staticClass:"col-xl-3 col-sm-6 col-12 p-3"},[a("router-link",{attrs:{to:"/settings"}},[a("div",{staticClass:"card bg-dark text-white",staticStyle:{cursor:"pointer"}},[a("div",{staticClass:"card-content p-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"media d-flex"},[a("div",{staticClass:"align-self-center"},[a("i",{staticClass:"fas fa-cog fa-5x float-left"})]),a("div",{staticClass:"media-body align-self-end text-right"},[a("h3",[t._v("Settings")])])])])])])])],1),a("div",{staticClass:"col-xl-3 col-sm-6 col-12 p-3"},[a("a",{on:{click:t.logout}},[t._m(0)])])])},x=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card bg-dark text-white",staticStyle:{cursor:"pointer"}},[a("div",{staticClass:"card-content p-2"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"media d-flex"},[a("div",{staticClass:"align-self-center"},[a("i",{staticClass:"fas fa-sign-out-alt fa-5x float-left"})]),a("div",{staticClass:"media-body align-self-end text-right"},[a("h3",[t._v("Logout")])])])])])])}],w={created:function(){},data:function(){return{}},methods:{logout:function(){if(this.$session.exists()){if(!confirm("Continue to logout?"))return!1;this.$session.destroy(),this.$router.push("/login")}}}},P=w,k=Object(_["a"])(P,y,x,!1,null,null,null),S=k.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-9 col-md-7 col-lg-5 mx-auto"},[a("div",{staticClass:"card card-signin my-5"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title text-center"},[t._v("POS Login")]),a("form",{staticClass:"form-signin",attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"inputUser",placeholder:"Username",required:"",autofocus:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),a("label",{attrs:{for:"inputUser"}},[t._v("Username")])]),a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.userpassword,expression:"userpassword"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.userpassword},on:{input:function(e){e.target.composing||(t.userpassword=e.target.value)}}}),a("label",{attrs:{for:"inputPassword"}},[t._v("Password")])]),a("button",{staticClass:"btn btn-lg btn-primary btn-block text-uppercase",attrs:{type:"submit"}},[t._v("Sign in")]),a("div",{staticClass:"alert alert-sucess text-danger",attrs:{role:"alert"}},[t._v(" "+t._s(t.msg)+" ")]),a("hr",{staticClass:"my-4"})])])])])])])},E=[],N={data:function(){return{userpassword:null,username:null,msg:""}},created:function(){},methods:{validUsername:function(){return""!=this.username},validUserpassword:function(){return""!=this.userpassword},login:function(){var t=this;if(t.validUsername()&&t.validUserpassword()){var e=a("bc3a");e.post("/api/login.php",{username:t.username,userpassword:t.userpassword}).then((function(e){200===e.status&&0!=e.data.user_id?(t.msg=e.data.msg,t.$session.start(),t.$session.set("user_approval",e.data.user_approval),t.$session.set("user_id",e.data.user_id),t.$router.push("/")):t.msg=e.data.msg,setTimeout((function(){t.msg=""}),3e3)})).catch((function(t){console.log(t)}))}}}},T=N,$=Object(_["a"])(T,D,E,!1,null,null,null),A=$.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"card fullheight overflow-auto shadow"},[a("div",{staticClass:"card-header bg-gradient p-0 pl-4 pr-4 pt-1"},[a("div",{staticClass:"form-label-group"},[a("input",{staticClass:"form-control form-control-sm mb-3 rounded-0 border-top-0 bg-transparent text-white border-left-0  border-right-0",attrs:{type:"text",id:"inputCategory",placeholder:"Insert Category"},on:{keyup:function(e){return t.searchCategory(e.target.value)}}}),a("label",{staticClass:"text-white",attrs:{for:"inputCategory"}},[t._v("Insert Category")])])]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},t._l(t.categories,(function(e,s){return a("div",{key:e.id,staticClass:"col-12 mb-2",attrs:{value:e.id}},[a("button",{staticClass:"btn btn-block btn-outline-dark rounded-0",class:{active:null!==t.selectedCategory?e.id==t.selectedCategory:0===s},on:{click:function(a){t.selectedCategory=e.id,t.fetchProductsbyCategory(null!==t.selectedCategory?t.selectedCategory:e.id),t.searchProd=""}}},[t._v(t._s(e.category_name))])])})),0)])]),a("button",{staticClass:"btn btn-primary text-white btn-block sticky-bottom btn-lg rounded-0",on:{click:function(e){return t.back()}}},[t._m(0)])]),a("div",{staticClass:"col-md-7"},[a("div",{staticClass:"card fullheight overflow-auto shadow"},[a("div",{staticClass:"card-header bg-gradient p-0 pl-4 pr-4 pt-1"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchProd,expression:"searchProd"}],staticClass:"form-control form-control-sm bg-transparent text-white rounded-0 border-top-0 border-left-0 border-right-0",attrs:{type:"text",id:"inputProduct",placeholder:"Insert Product"},domProps:{value:t.searchProd},on:{keyup:function(e){return t.searchProduct(e.target.value)},input:function(e){e.target.composing||(t.searchProd=e.target.value)}}}),a("label",{staticClass:"text-white",attrs:{for:"inputProduct"}},[t._v("Insert Product")])])]),a("div",{staticClass:"card-body"},[""==t.products?a("div",[a("div",{staticClass:"text-danger text-center"},[t._v(" No Records... ")])]):a("div",{staticClass:"row text-center"},t._l(t.products,(function(e){return a("div",{key:e.id,staticClass:"col-md-3 mb-4",attrs:{value:e.id},on:{click:function(a){return t.addOrderProducts(e.id,1,e.stock_qty)}}},[a("v-lazy-image",{staticClass:"res-img shadow-lg border",attrs:{src:t.imgURL+e.product_image,title:e.product_name}}),a("p",{staticClass:"card-text box text-white"},[t._v(" "+t._s(t.trimProductName(e.product_name))+" "),a("br"),t._v(" ("+t._s(e.stock_qty)+") ")])],1)})),0)])])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"card fullheight shadow"},[a("div",{staticClass:"card-header bg-gradient p-0 pl-4 pr-4 pt-1"},[a("div",{staticClass:"form-label-group"},[a("input",{ref:"bar",staticClass:"form-control form-control-sm bg-transparent text-white rounded-0 border-top-0 border-left-0 border-right-0",attrs:{type:"text",id:"inputBarcode",placeholder:"Insert Barcode"}}),a("label",{staticClass:"text-white",attrs:{for:"inputBarcode"}},[t._v("Insert Barcode")])])]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row overflow-auto",staticStyle:{height:"48vh"}},[a("div",{staticClass:"col-12"},[a("table",{staticClass:"table table-striped"},[a("tbody",t._l(t.orders,(function(e,s){return a("tr",{key:e.id,attrs:{value:e.id}},[a("td",{staticClass:"pt-2 pb-2 pl-2 align-middle",staticStyle:{cursor:"pointer"},attrs:{title:"Click to discount "+e.product_name},on:{click:function(a){return t.addDiscount(e.id)}}},[t._v(t._s(e.product_name))]),a("td",{staticClass:"pt-2 pb-2 align-middle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.product_qty,expression:"order.product_qty"}],staticClass:"form-control form-control-sm bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",staticStyle:{width:"40px"},attrs:{type:"text",min:1,max:e.stock_qty},domProps:{value:e.product_qty},on:{input:[function(a){a.target.composing||t.$set(e,"product_qty",a.target.value)},function(a){t.minInput(a,s),t.updateOrderProduct(e.id,e.product_qty,e.product_id)}]}})]),a("td",{staticClass:"pt-2 align-middle"},[a("b",[t._v("₱ "+t._s(e.total_amount))]),t._v(" "),a("p",{staticClass:"small"},[t._v(t._s(0==e.discount_amount?"":"-₱"+e.discount_amount))])]),a("td",{staticClass:"pt-2 pb-2 align-middle",staticStyle:{cursor:"pointer"},attrs:{title:"Delete "+e.product_name},on:{click:function(a){return t.deleteOrderProduct(e.id)}}},[a("i",{staticClass:"fas fa-times-circle"})])])})),0)])])]),a("hr"),a("div",{staticClass:"row",staticStyle:{height:"10vh"}},[a("div",{staticClass:"col-12"},[a("span",{staticClass:"float-left ml-2 font-weight-bold"},[t._v("Vat Sales:")]),a("span",{staticClass:"float-right mr-3 font-weight-bold"},[t._v(t._s(0==t.vatSalesTotal?"":"₱ "+t.vatSalesTotal))])]),a("div",{staticClass:"col-12"},[a("span",{staticClass:"float-left ml-2 font-weight-bold"},[t._v("12% Vat:")]),a("span",{staticClass:"float-right mr-3 font-weight-bold"},[t._v(t._s(0==t.vatTotal?"":"₱ "+t.vatTotal))])]),a("div",{staticClass:"col-12"},[a("span",{staticClass:"float-left ml-2 font-weight-bold"},[t._v("Discount Total:")]),a("span",{staticClass:"float-right mr-3 font-weight-bold"},[t._v(t._s(0==t.discountTotal?"":"₱ "+t.discountTotal))])]),a("div",{staticClass:"col-12"},[a("span",{staticClass:"float-left ml-2 font-weight-bold"},[t._v("Sub Total:")]),a("span",{staticClass:"float-right mr-3 font-weight-bold"},[t._v(t._s(0==t.orderTotal?"":"₱ "+t.orderTotal))])])])])]),a("button",{staticClass:"btn btn-info btn-block sticky-bottom btn-lg rounded-0",on:{click:function(e){return t.checkOut(t.orderTotal)}}},[t._m(1)])]),a("div",{staticClass:"modal fade",class:{show:t.show,"d-block":t.active},attrs:{tabindex:"-1",role:"dialog",id:"addDisc"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header bg-gradient"},[a("h5",{staticClass:"modal-title"},[t._v("Add Discount")]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.toggleModal}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("table",{staticClass:"table table-striped text-center"},[t._m(2),a("tbody",t._l(t.order_discs,(function(e,s){return a("tr",{key:e.id,attrs:{value:e.id}},[a("td",{staticClass:"pt-2 pb-2 align-middle",staticStyle:{cursor:"pointer"},attrs:{title:"Click to discount "+e.product_name}},[t._v(t._s(e.product_name))]),a("td",{staticClass:"pt-2 pb-2 pl-5 align-middle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.product_qty,expression:"order_disc.product_qty"}],staticClass:"form-control form-control-sm bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",staticStyle:{width:"40px"},attrs:{type:"text",min:1,max:e.product_qty},domProps:{value:e.product_qty},on:{input:[function(a){a.target.composing||t.$set(e,"product_qty",a.target.value)},function(e){return t.minDiscQty(e,s)}]}})]),a("td",{staticClass:"pt-2 pb-2 pl-5 align-middle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.disc,expression:"disc"}],staticClass:"form-control form-control-sm bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",staticStyle:{width:"40px"},attrs:{type:"text",min:"0",max:"90"},domProps:{value:t.disc},on:{input:[function(e){e.target.composing||(t.disc=e.target.value)},function(e){return t.minInputDisc(e)}]}})]),a("td",{staticClass:"pt-2 align-middle"},[a("b",[t._v("₱ "+t._s(e.product_qty*e.selling_price/(100/t.disc)))])]),a("td",{staticClass:"pt-2 align-middle"},[a("b",[t._v("₱ "+t._s(e.product_qty*e.selling_price))])]),a("td",{staticClass:"pt-2 align-middle"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(a){t.btnDiscount(e.id,e.product_qty*e.selling_price/(100/t.disc))}}},[t._v("Save")])])])})),0)])])])])])])])])},j=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"float-left ml-2"},[a("i",{staticClass:"fas fa-arrow-left"}),t._v(" Back")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"ml-2"},[a("i",{staticClass:"fas fa-cart-plus"}),t._v(" Checkout")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Product Name")]),a("th",[t._v("Qty")]),a("th",[t._v("Discount %")]),a("th",[t._v("Discount Amount")]),a("th",[t._v("Total Amount")]),a("th",[t._v("Action")])])])}],Y=(a("4de4"),a("4160"),a("a9e3"),a("9129"),a("b680"),a("159b"),a("8dc2")),q=a.n(Y),I={components:{VLazyImage:q.a},data:function(){return{products:[],categories:[],orders:[],order_discs:[],disc:20,show:!1,active:!1,selectedCategory:null,catid:void 0,searchProd:"",imgURL:"http://localhost/grocery/public/images/products/"}},created:function(){this.focusBarcode(),this.fetchCategories(),this.fetchProductsbyCategory(),this.fetchOrderProducts()},methods:{focusBarcode:function(){var t=this;setTimeout((function(){t.$refs.bar.focus()}),1)},toggleModal:function(){var t=this,e=document.querySelector("body");this.active=!this.active,this.active?e.classList.add("modal-open"):e.classList.remove("modal-open"),setTimeout((function(){return t.show=!t.show}),10)},back:function(){this.$router.push("/")},trimProductName:function(t){var e=15,a=t.length>e?t.substring(0,t.length-3)+"...":t;return a},minInputDisc:function(t){var e=this,a=parseInt(t.target.value),s=parseInt(t.target.min),o=parseInt(t.target.max);return a<s||Number.isNaN(a)?e.disc=0:e.disc=a>o?o:a},minDiscQty:function(t,e){var a=this,s=parseInt(t.target.value),o=parseInt(t.target.min),r=parseInt(t.target.max);return s<o||Number.isNaN(s)?a.order_discs[e].product_qty=1:a.order_discs[e].product_qty=s>r?r:s},minInput:function(t,e){var a=this,s=parseInt(t.target.value),o=parseInt(t.target.min),r=parseInt(t.target.max);return s<o||Number.isNaN(s)?a.orders[e].product_qty=1:a.orders[e].product_qty=s>r?r:s},fetchProductsbyCategory:function(t){var e=this,s="",o=a("bc3a");s=void 0===t?0:t,e.loading=!0,o.get("/api/getProductsByCategory/?catid="+s).then((function(t){e.products=t.data.data.filter((function(t){return 0!=t.stock_qty})),e.loading=!1})).catch((function(t){console.log(t)}))},fetchCategories:function(){var t=this,e=a("bc3a");e.get("/api/getAllCategories/?page=&status=active").then((function(e){t.categories=e.data.data})).catch((function(t){console.log(t)}))},fetchOrderProducts:function(){var t=this,e=a("bc3a");e.get("/api/getAllOrderProducts/").then((function(e){t.orders=e.data.data,t.orders=e.data.data.filter((function(t){return null!=t.id}))})).catch((function(t){console.log(t)}))},searchCategory:function(t){var e=this,s=a("bc3a");e.timer&&(clearTimeout(e.timer),e.timer=null),e.timer=setTimeout((function(){s.get("/api/searchCategory/?category_name="+t).then((function(t){e.categories=t.data.data})).catch((function(t){console.log(t)}))}),500)},searchProduct:function(t){var e=this,s=a("bc3a");e.timer&&(clearTimeout(e.timer),e.timer=null),e.timer=setTimeout((function(){s.get("/api/searchProductByCategory/?product_name="+t+"&category_id="+e.selectedCategory).then((function(t){e.products=t.data.data.filter((function(t){return 0!=t.stock_qty}))})).catch((function(t){console.log(t)}))}),500)},addOrderProducts:function(t,e,s){var o=this,r=a("bc3a");0!=s&&r.get("/api/addOrderProducts/?id="+t+"&qty="+e+"&user_id="+o.$session.get("user_id")).then((function(){o.fetchOrderProducts(),o.fetchProductsbyCategory(o.selectedCategory)})).catch((function(t){console.log(t)}))},updateOrderProduct:function(t,e,s){var o=this,r=a("bc3a");r.put("/api/updateOrderProduct/",{id:t,qty:e,product_id:s}).then((function(){o.fetchOrderProducts(),o.fetchProductsbyCategory(o.selectedCategory)})).catch((function(t){console.log(t)}))},deleteOrderProduct:function(t){var e=this,s=a("bc3a");s.delete("/api/deleteOrderProduct/?id="+t).then((function(){e.fetchOrderProducts(),e.fetchProductsbyCategory(e.selectedCategory)})).catch((function(t){console.log(t)}))},addDiscount:function(t){var e=this,s=a("bc3a");s.get("/api/getOrderDiscountById/?order_id="+t).then((function(t){e.toggleModal(),e.order_discs=t.data.data})).catch((function(t){console.log(t)}))},btnDiscount:function(t,e){var s=this,o=a("bc3a");o.get("/api/updateOrderDiscountById/?id="+t+"&disc="+e).then((function(t){console.log(t.data),s.fetchOrderProducts(),s.toggleModal()})).catch((function(t){console.log(t)}))},checkOut:function(t){0!=t&&this.$router.push("/terminal/payment")}},computed:{orderTotal:function(){var t=0;return this.orders.forEach((function(e){t+=parseFloat(e.total_amount)})),(t-this.discountTotal).toFixed(2)},vatTotal:function(){var t=0;return this.orders.forEach((function(e){t+=parseFloat(e.vat_amount)})),t.toFixed(2)},discountTotal:function(){var t=0;return this.orders.forEach((function(e){t+=parseFloat(e.discount_amount)})),t.toFixed(2)},vatSalesTotal:function(){return(this.orderTotal-this.vatTotal-this.discountTotal).toFixed(2)}}},O=I,F=Object(_["a"])(O,M,j,!1,null,null,null),B=F.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"card fullheight overflow-auto rounded-0"},[t._m(0),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-12"},[a("label",{staticClass:"ml-2 font-weight-light",attrs:{for:"pay-by"}},[t._v("Pay By:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.payment.payment_typeid,expression:"payment.payment_typeid"}],staticClass:"form-control form-control-sm rounded-0 border-top-0 border-left-0 border-right-0",attrs:{id:"pay-by"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.payment,"payment_typeid",e.target.multiple?a:a[0])}}},t._l(t.payments,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.payment_name))])})),0)])]),a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-12"},[a("label",{staticClass:"ml-2 font-weight-light",attrs:{for:"customer"}},[t._v("Customer:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.payment.customer_id,expression:"payment.customer_id"}],staticClass:"form-control form-control-sm rounded-0 border-top-0 border-left-0 border-right-0",attrs:{id:"customer"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.payment,"customer_id",e.target.multiple?a:a[0])}}},t._l(t.customers,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.customer_name))])})),0)])]),a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-12"},[a("label",{staticClass:"ml-2 font-weight-light",attrs:{for:"comment"}},[t._v("Comment:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.payment.sales_comment,expression:"payment.sales_comment"}],staticClass:"form-control form-control-sm rounded-0",attrs:{id:"comment",cols:"30",rows:"9",placeholder:"Optional"},domProps:{value:t.payment.sales_comment},on:{input:function(e){e.target.composing||t.$set(t.payment,"sales_comment",e.target.value)}}})])])])]),a("button",{staticClass:"btn btn-primary text-white btn-block sticky-bottom btn-lg rounded-0",on:{click:function(e){return t.back()}}},[t._m(1)])]),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"card fullheight overflow-auto rounded-0"},[t._m(2),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row overflow-auto",staticStyle:{height:"48vh"}},[a("div",{staticClass:"col-12"},[a("table",{staticClass:"table table-striped"},[a("tbody",t._l(t.orders,(function(e,s){return a("tr",{key:e.id,attrs:{value:e.id}},[a("td",{staticClass:"pt-2 pb-2 pl-2 align-middle",staticStyle:{cursor:"pointer"},attrs:{title:"Click to discount "+e.product_name},on:{click:function(a){return t.addDiscount(e.id)}}},[t._v(t._s(e.product_name))]),a("td",{staticClass:"pt-2 pb-2 align-middle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.product_qty,expression:"order.product_qty"}],staticClass:"form-control form-control-sm bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",staticStyle:{width:"40px"},attrs:{type:"text",min:1,max:e.stock_qty},domProps:{value:e.product_qty},on:{input:[function(a){a.target.composing||t.$set(e,"product_qty",a.target.value)},function(a){t.minInput(a,s),t.updateOrderProduct(e.id,e.product_qty,e.product_id)}]}})]),a("td",{staticClass:"pt-2 align-middle"},[a("b",[t._v("₱ "+t._s(e.total_amount))]),t._v(" "),a("p",{staticClass:"small"},[t._v(t._s(0==e.discount_amount?"":"-₱"+e.discount_amount))])]),a("td",{staticClass:"pt-2 pb-2 align-middle",staticStyle:{cursor:"pointer"},attrs:{title:"Delete "+e.product_name},on:{click:function(a){return t.deleteOrderProduct(e.id)}}},[a("i",{staticClass:"fas fa-times-circle"})])])})),0)])])]),a("hr"),a("div",{staticClass:"row",staticStyle:{height:"10vh"}},[a("div",{staticClass:"col-12"},[a("span",{staticClass:"float-left ml-2 font-weight-bold"},[t._v("Vat Sales:")]),a("span",{staticClass:"float-right mr-3 font-weight-bold"},[t._v(t._s(0==t.vatSalesTotal?"":"₱ "+t.vatSalesTotal))])]),a("div",{staticClass:"col-12"},[a("span",{staticClass:"float-left ml-2 font-weight-bold"},[t._v("12% Vat:")]),a("span",{staticClass:"float-right mr-3 font-weight-bold"},[t._v(t._s(0==t.vatTotal?"":"₱ "+t.vatTotal))])]),a("div",{staticClass:"col-12"},[a("span",{staticClass:"float-left ml-2 font-weight-bold"},[t._v("Discount Total:")]),a("span",{staticClass:"float-right mr-3 font-weight-bold"},[t._v(t._s(0==t.discountTotal?"":"₱ "+t.discountTotal))])]),a("div",{staticClass:"col-12"},[a("span",{staticClass:"float-left ml-2 font-weight-bold"},[t._v("Sub Total:")]),a("span",{staticClass:"float-right mr-3 font-weight-bold"},[t._v(t._s(0==t.subTotal?"":"₱ "+t.subTotal))])])])])])]),a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"card fullheight"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tendered,expression:"tendered"}],staticClass:"form-control form-control-lg",attrs:{type:"text",disabled:""},domProps:{value:t.tendered},on:{input:function(e){e.target.composing||(t.tendered=e.target.value)}}}),a("div",{staticClass:"row no-gutters"},[a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-lg btn-info border btn-block p-3",on:{click:function(e){return t.key(20)}}},[t._v("₱ 20")])]),a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-lg btn-info border btn-block p-3",on:{click:function(e){return t.key(100)}}},[t._v("₱ 100")])]),a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-lg btn-info border btn-block p-3",on:{click:function(e){return t.key(500)}}},[t._v("₱ 500")])]),a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-lg btn-info border btn-block p-3",on:{click:function(e){return t.key(1e3)}}},[t._v("₱ 1000")])])]),a("div",{staticClass:"row no-gutters"},[a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-lg btn-dark border btn-block p-5",on:{click:function(e){return t.key(7)}}},[t._v("7")])]),a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-lg btn-dark border btn-block p-5",on:{click:function(e){return t.key(8)}}},[t._v("8")])]),a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-lg btn-dark border btn-block p-5",on:{click:function(e){return t.key(9)}}},[t._v("9")])]),a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-lg btn-danger border btn-block p-5",on:{click:function(e){return t.clear(t.tendered)}}},[t._v("←")])])]),a("div",{staticClass:"row no-gutters"},[a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-lg btn-dark border btn-block p-5",on:{click:function(e){return t.key(4)}}},[t._v("4")])]),a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-lg btn-dark border btn-block p-5",on:{click:function(e){return t.key(5)}}},[t._v("5")])]),a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-lg btn-dark border btn-block p-5",on:{click:function(e){return t.key(6)}}},[t._v("6")])]),a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-lg btn-danger border btn-block p-5",on:{click:t.clearAll}},[t._v("C")])])]),a("div",{staticClass:"row no-gutters"},[a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-lg btn-dark border btn-block p-5",on:{click:function(e){return t.key(1)}}},[t._v("1")])]),a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-lg btn-dark border btn-block p-5",on:{click:function(e){return t.key(2)}}},[t._v("2")])]),a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-lg btn-dark border btn-block p-5",on:{click:function(e){return t.key(3)}}},[t._v("3")])]),a("div",{staticClass:"col-sm-3"},[a("button",{staticClass:"btn btn-lg btn-dark border btn-block p-5",on:{click:function(e){return t.key(0)}}},[t._v("0")])])]),a("div",{staticClass:"row no-gutters"},[a("div",{staticClass:"col-sm-12"},[a("button",{staticClass:"btn btn-lg btn-success border btn-block p-4",attrs:{value:"0"},on:{click:t.btnTendered}},[t._v("Tender")])])])])])])])]),a("div",{staticClass:"modal fade",class:{show:t.show,"d-block":t.active},attrs:{tabindex:"-1",role:"dialog",id:"addDisc"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header bg-gradient"},[a("h5",{staticClass:"modal-title"},[t._v("Add Discount")]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.toggleModal}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("table",{staticClass:"table table-striped text-center"},[t._m(3),a("tbody",t._l(t.order_discs,(function(e,s){return a("tr",{key:e.id,attrs:{value:e.id}},[a("td",{staticClass:"pt-2 pb-2 align-middle",staticStyle:{cursor:"pointer"},attrs:{title:"Click to discount "+e.product_name}},[t._v(t._s(e.product_name))]),a("td",{staticClass:"pt-2 pb-2 pl-5 align-middle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.product_qty,expression:"order_disc.product_qty"}],staticClass:"form-control form-control-sm bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",staticStyle:{width:"40px"},attrs:{type:"text",min:1,max:e.product_qty},domProps:{value:e.product_qty},on:{input:[function(a){a.target.composing||t.$set(e,"product_qty",a.target.value)},function(e){return t.minDiscQty(e,s)}]}})]),a("td",{staticClass:"pt-2 pb-2 pl-5 align-middle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.disc,expression:"disc"}],staticClass:"form-control form-control-sm bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",staticStyle:{width:"40px"},attrs:{type:"text",min:"0",max:"90"},domProps:{value:t.disc},on:{input:[function(e){e.target.composing||(t.disc=e.target.value)},function(e){return t.minInputDisc(e)}]}})]),a("td",{staticClass:"pt-2 align-middle"},[a("b",[t._v("₱ "+t._s(e.product_qty*e.selling_price/(100/t.disc)))])]),a("td",{staticClass:"pt-2 align-middle"},[a("b",[t._v("₱ "+t._s(e.product_qty*e.selling_price))])]),a("td",{staticClass:"pt-2 align-middle"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(a){t.btnDiscount(e.id,e.product_qty*e.selling_price/(100/t.disc))}}},[t._v("Save")])])])})),0)])])])])])])])])},U=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header bg-gradient"},[a("h5",[t._v("Payment Setup")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"float-left ml-2"},[a("i",{staticClass:"fas fa-arrow-left"}),t._v(" Back")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header bg-gradient"},[a("h5",[t._v("Order Summary")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Product Name")]),a("th",[t._v("Qty")]),a("th",[t._v("Discount %")]),a("th",[t._v("Discount Amount")]),a("th",[t._v("Total Amount")]),a("th",[t._v("Action")])])])}],L=a("5530"),z={data:function(){return{orders:[],order_discs:[],disc:20,payment:{payment_typeid:1,customer_id:1,sales_comment:""},payments:[],customers:[],tendered:0,show:!1,active:!1}},created:function(){this.fetchOrderProducts(),this.fetchPaymentTypes(),this.fetchCustomers()},methods:{minInputDisc:function(t){var e=this,a=parseInt(t.target.value),s=parseInt(t.target.min),o=parseInt(t.target.max);return a<s||Number.isNaN(a)?e.disc=0:e.disc=a>o?o:a},minDiscQty:function(t,e){var a=this,s=parseInt(t.target.value),o=parseInt(t.target.min),r=parseInt(t.target.max);return s<o||Number.isNaN(s)?a.order_discs[e].product_qty=1:a.order_discs[e].product_qty=s>r?r:s},minInput:function(t,e){var a=this,s=parseInt(t.target.value),o=parseInt(t.target.min),r=parseInt(t.target.max);return s<o||Number.isNaN(s)?a.orders[e].product_qty=1:a.orders[e].product_qty=s>r?r:s},back:function(){this.$router.push("/terminal")},toggleModal:function(){var t=this,e=document.querySelector("body");this.active=!this.active,this.active?e.classList.add("modal-open"):e.classList.remove("modal-open"),setTimeout((function(){return t.show=!t.show}),10)},key:function(t){return 0==t?this.tendered=Number(this.tendered)+Number(t)+"0":t>=20?this.tendered+=Number(t):this.tendered=Number(this.tendered)+String(t)},clear:function(t){return this.tendered=t>1?String(t).substr(0,String(t).length-1):Number(0)},clearAll:function(){return this.tendered=0},fetchOrderProducts:function(){var t=this,e=a("bc3a");e.get("/api/getAllOrderProducts/").then((function(e){t.orders=e.data.data})).catch((function(t){console.log(t)}))},fetchPaymentTypes:function(){var t=this,e=a("bc3a");e.get("/api/getAllPaymentTypes/").then((function(e){t.payments=e.data.data})).catch((function(t){console.log(t)}))},fetchCustomers:function(){var t=this,e=a("bc3a");e.get("/api/getAllCustomers/?customer_status=active").then((function(e){t.customers=e.data.data})).catch((function(t){console.log(t)}))},updateOrderProduct:function(t,e,s){var o=this,r=a("bc3a");r.put("/api/updateOrderProduct/",{id:t,qty:e,product_id:s}).then((function(){o.fetchOrderProducts(),o.fetchProductsbyCategory(o.selectedCategory)})).catch((function(t){console.log(t)}))},deleteOrderProduct:function(t){var e=this,s=a("bc3a");s.delete("/api/deleteOrderProduct/?id="+t).then((function(){e.fetchOrderProducts(),e.fetchProductsbyCategory(e.selectedCategory)})).catch((function(t){console.log(t)}))},addDiscount:function(t){var e=this,s=a("bc3a");s.get("/api/getOrderDiscountById/?order_id="+t).then((function(t){e.toggleModal(),e.order_discs=t.data.data})).catch((function(t){console.log(t)}))},btnDiscount:function(t,e){var s=this,o=a("bc3a");o.get("/api/updateOrderDiscountById/?id="+t+"&disc="+e).then((function(){s.fetchOrderProducts(),s.toggleModal()})).catch((function(t){console.log(t)}))},btnTendered:function(){var t=this;if(0!=t.tendered&&Number(t.tendered)>Number(t.subTotal)){var e=[];e={cashier_id:t.$session.get("user_id"),order_id:t.orderId,total_amount:t.orderTotal,tendered:t.tendered,change_amount:t.changeAmount,discount_amount:t.discountTotal,vat_amount:t.vatTotal};var s=[Object(L["a"])(Object(L["a"])({},t.payment),e)],o=a("bc3a");o.post("/api/addSales/",s).then((function(){t.$router.push({name:"CHANGE",params:{change:t.changeAmount}})})).catch((function(t){console.log(t)}))}else alert("Please check tendered amount")}},computed:{orderId:function(){var t=0;return this.orders.forEach((function(e){t=e.order_id})),t},orderTotal:function(){var t=0;return this.orders.forEach((function(e){t+=parseFloat(e.total_amount)})),t.toFixed(2)},subTotal:function(){var t=0;return this.orders.forEach((function(e){t+=parseFloat(e.total_amount)})),(t-this.discountTotal).toFixed(2)},vatTotal:function(){var t=0;return this.orders.forEach((function(e){t+=parseFloat(e.vat_amount)})),t.toFixed(2)},discountTotal:function(){var t=0;return this.orders.forEach((function(e){t+=parseFloat(e.discount_amount)})),t.toFixed(2)},vatSalesTotal:function(){return(this.orderTotal-this.vatTotal-this.discountTotal).toFixed(2)},changeAmount:function(){return(this.tendered-this.subTotal).toFixed(2)}}},Q=z,H=Object(_["a"])(Q,R,U,!1,null,null,null),V=H.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-10 mx-auto"},[a("div",{staticClass:"card fullheight rounded-0"},[a("div",{staticClass:"card-header bg-gradient p-0 pl-4 pr-4 pt-1"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[a("div",{staticClass:"form-label-group"},[a("input",{staticClass:"form-control form-control-sm mb-3 bg-transparent text-white rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"text",id:"searchProduct",placeholder:"Search Product"},on:{keyup:function(e){return t.searchProduct(e.target.value)}}}),a("label",{staticClass:"text-white",attrs:{for:"searchProduct"}},[t._v("Search Product")])])]),a("div",{staticClass:"col-1 offset-6 mt-3"},[a("i",{staticClass:"fas fa-plus-circle fa-2x",staticStyle:{cursor:"pointer"},attrs:{title:"Add Products"},on:{click:function(e){t.toggleModal(),t.edit=!1,t.flush()}}})])])]),a("div",{staticClass:"card-body overflow-auto"},[a("form",{attrs:{method:"POST",enctype:"multipart/form-data"}},[a("table",{staticClass:"table text-center"},[t._m(0),t.loading?a("tbody",[t._m(1)]):a("tbody",[t.products.length?t._l(t.products,(function(e,s){return a("tr",{key:e.id,staticClass:"border-bottom"},[a("td",[a("label",{staticClass:"border m-0",staticStyle:{cursor:"pointer"},attrs:{title:"Click to Upload Photo",for:"file"+s}},[a("input",{ref:"file",refInFor:!0,staticClass:"form-control-file",attrs:{type:"file",id:"file"+s,hidden:""},on:{change:function(a){return t.createImage(e.id,s)}}}),a("img",{staticClass:"res-img shadow border",staticStyle:{width:"80px",height:"50px"},attrs:{src:t.imgURL+e.product_image}})])]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.product_name))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s(e.unit_price))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s(e.selling_price))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.category_name))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.product_status))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.barcode))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.alarmlvl))]),a("td",{staticClass:"align-middle"},[a("i",{staticClass:"fa fa-edit mr-2",staticStyle:{cursor:"pointer"},attrs:{title:"Click to Edit "+e.product_name},on:{click:function(a){return t.editProduct(e)}}}),a("i",{staticClass:"fa fa-trash ml-2",staticStyle:{cursor:"pointer"},attrs:{title:"Click to Delete "+e.product_name},on:{click:function(a){return t.deleteProduct(e.id,e.product_name)}}})])])})):a("tr",[t._m(2)])],2)])]),a("hr"),a("div",{staticClass:"row item-bottom p-4"},[a("div",{staticClass:"col-6"},[a("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){return t.back()}}},[t._m(3)])]),a("div",{staticClass:"col-6"},[a("nav",{attrs:{"aria-label":"Page navigation example item-bottom"}},[a("ul",{staticClass:"pagination pagination-sm justify-content-end"},[a("li",{staticClass:"page-item",class:[{disabled:1==t.pagination.current_page||""==t.pagination}],staticStyle:{cursor:"pointer"}},[a("a",{staticClass:"page-link",on:{click:function(e){return t.fetchProducts(t.page=t.page-1)}}},[t._v(" Prev ")])]),a("li",{staticClass:"page-item disabled"},[a("a",{staticClass:"page-link text-dark"},[t._v("Page "+t._s(t.pagination.current_page)+" of "+t._s(t.pagination.last_page))])]),a("li",{staticClass:"page-item",class:[{disabled:t.pagination.current_page==t.pagination.last_page}],staticStyle:{cursor:"pointer"}},[a("a",{staticClass:"page-link",on:{click:function(e){return t.fetchProducts(t.page=t.page+1)}}},[t._v(" Next ")])])])])])])])])]),a("div",{staticClass:"modal fade",class:{show:t.show,"d-block":t.active},attrs:{tabindex:"-1",role:"dialog",id:"addProduct"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header bg-gradient"},[a("h5",{staticClass:"modal-title"},[t._v("Add Product")]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.toggleModal}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.product_name,expression:"product.product_name"}],staticClass:"form-control form-control-sm mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"text",id:"prodname",placeholder:"Product Name"},domProps:{value:t.product.product_name},on:{input:function(e){e.target.composing||t.$set(t.product,"product_name",e.target.value)}}}),a("label",{attrs:{for:"prodname"}},[t._v("Product Name")])]),t.errors.product_name?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.product_name))]):t._e()]),a("div",{staticClass:"col-6 p-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.product.category_id,expression:"product.category_id"}],staticClass:"form-control mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{id:"catid"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.product,"category_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:"0"}},[t._v("Select Category")]),t._l(t.categories,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.category_name))])}))],2),t.errors.category_id?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.category_id))]):t._e()]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.unit_price,expression:"product.unit_price"}],staticClass:"form-control form-control-sm mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"number",min:"1",id:"uprice",placeholder:"Unit Price"},domProps:{value:t.product.unit_price},on:{input:function(e){e.target.composing||t.$set(t.product,"unit_price",e.target.value)}}}),a("label",{attrs:{for:"uprice"}},[t._v("Unit Price")])]),t.errors.unit_price?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.unit_price))]):t._e()]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.selling_price,expression:"product.selling_price"}],staticClass:"form-control form-control-sm mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"number",min:"1",id:"sprice",placeholder:"Selling Price"},domProps:{value:t.product.selling_price},on:{input:function(e){e.target.composing||t.$set(t.product,"selling_price",e.target.value)}}}),a("label",{attrs:{for:"sprice"}},[t._v("Selling Price")])]),t.errors.selling_price?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.selling_price))]):t._e()]),a("div",{staticClass:"col-6 p-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.product.product_status,expression:"product.product_status"}],staticClass:"form-control mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{id:"catid"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.product,"product_status",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:"0"}},[t._v("Select Status")]),a("option",{attrs:{value:"1"}},[t._v("Active")]),a("option",{attrs:{value:"2"}},[t._v("Inactive")])]),t.errors.product_status?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.product_status))]):t._e()]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.alarmlvl,expression:"product.alarmlvl"}],staticClass:"form-control form-control-sm mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"number",min:"1",id:"alarm",placeholder:"Alarm Level"},domProps:{value:t.product.alarmlvl},on:{input:function(e){e.target.composing||t.$set(t.product,"alarmlvl",e.target.value)}}}),a("label",{attrs:{for:"alarm"}},[t._v("Alarm Level")])])]),a("div",{staticClass:"col-12"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.barcode,expression:"product.barcode"}],staticClass:"form-control form-control-sm mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"text",id:"bcode",placeholder:"Barcode"},domProps:{value:t.product.barcode},on:{input:function(e){e.target.composing||t.$set(t.product,"barcode",e.target.value)}}}),a("label",{attrs:{for:"bcode"}},[t._v("Barcode")])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[t.msg?a("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v(" "+t._s(t.msg)+" ")]):t._e()])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.addProduct}},[t._v("Save changes")])])])])])])},X=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Image")]),a("th",[t._v("Product Name")]),a("th",[t._v("Unit Price")]),a("th",[t._v("Selling Price")]),a("th",[t._v("Category")]),a("th",[t._v("Status")]),a("th",[t._v("Barcode")]),a("th",[t._v("Alarm Level")]),a("th",[t._v("Action")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{attrs:{colspan:"9"}},[a("img",{attrs:{src:"http://localhost/grocery/public/images/loading.gif",alt:""}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{colspan:"9"}},[a("strong",{staticClass:"text-danger text-center"},[t._v("No Record")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"float-left ml-2"},[a("i",{staticClass:"fas fa-arrow-left"}),t._v(" Back")])}],W=(a("ac1f"),a("1276"),{data:function(){return{products:[],categories:[],product:{product_name:"",category_id:0,product_status:0,unit_price:"",selling_price:"",product_image:""},active:!1,show:!1,pagination:[],edit:!1,errors:[],loading:!1,file:"",page:1,msg:null,imgURL:"http://localhost/grocery/public/images/products/"}},created:function(){this.fetchProducts(),this.fetchCategories()},computed:{validProductName:function(){return this.product.product_name.length<=1},validCategory:function(){return 0==this.product.category_id},validUnitPrice:function(){return 0==this.product.unit_price||""==this.product.unit_price},validSellingPrice:function(){return 0==this.product.selling_price||""==this.product.selling_price},validStatus:function(){return 0==this.product.product_status}},methods:{back:function(){this.$router.push("/")},flush:function(){this.product={product_name:"",category_id:0,product_status:0,unit_price:"",selling_price:"",product_image:""}},createImage:function(t,e){var s=this,o=a("bc3a");s.file=s.$refs.file[e].files[0];var r=s.file.name.split("."),i=t,n=r[1],l=i+"."+n,c=new FormData;c.append("file",s.file,l),o.post("/api/uploadProductImage.php",c,{header:{"Content-Type":"multipart/form-data"}}).then((function(){window.location.reload(!0)})).catch((function(t){console.log(t)}))},toggleModal:function(){var t=this,e=document.querySelector("body");this.active=!this.active,this.active?e.classList.add("modal-open"):e.classList.remove("modal-open"),setTimeout((function(){return t.show=!t.show}),10)},fetchProducts:function(t){var e=this,s=a("bc3a");e.loading=!0,s.get("/api/getAllProducts.php?page="+t).then((function(t){e.products=t.data.data,e.pagination=t.data.pagination,e.loading=!1})).catch((function(t){console.log(t)}))},fetchCategories:function(){var t=this,e=a("bc3a");e.get("/api/getAllCategories.php?page=&status=active").then((function(e){t.categories=e.data.data})).catch((function(t){console.log(t)}))},searchProduct:function(t){var e=this,s=a("bc3a");e.loading=!0,e.timer&&(clearTimeout(e.timer),e.timer=null),e.timer=setTimeout((function(){s.get("/api/searchProduct.php?product_name="+t).then((function(t){e.products=t.data.data,e.pagination=t.data.pagination,e.loading=!1})).catch((function(t){console.log(t)}))}),500)},addProduct:function(){var t=this;if(t.errors=[],t.validProductName&&(t.errors.product_name="Please input Product Name."),t.validCategory&&(t.errors.category_id="Please Select Category."),t.validUnitPrice&&(t.errors.unit_price="Please input Unit Price greater 0."),t.validSellingPrice&&(t.errors.selling_price="Please input Selling Price greater 0."),t.validStatus&&(t.errors.product_status="Please Select Product Status."),!t.validProductName&&!t.validCategory&&!t.validUnitPrice&&!t.validSellingPrice&&!t.validStatus){var e=a("bc3a");0==t.edit?e.post("/api/addProducts.php",t.product).then((function(e){t.msg=e.data.msg,setTimeout((function(){t.msg=null}),2e3),t.fetchProducts(t.page)})).catch((function(t){console.log(t)})):e.put("/api/updateProduct.php",t.product).then((function(e){t.msg=e.data.msg,t.edit=!1,setTimeout((function(){t.msg=null}),2e3),t.fetchProducts(t.page)})).catch((function(t){console.log(t)}))}},editProduct:function(t){var e=this;e.toggleModal(),e.edit=!0,e.product.id=t.id,e.product.product_name=t.product_name,e.product.unit_price=t.unit_price,e.product.selling_price=t.selling_price,e.product.product_status="active"==t.product_status?1:2,e.product.product_alarmlvl=t.product_alarmlvl,e.product.category_id=t.category_id,e.product.barcode=t.barcode},deleteProduct:function(t,e){var s=this;if(!confirm("Do you wat to delete "+e))return!1;var o=a("bc3a");o.put("/api/deleteProduct.php",{id:t}).then((function(){s.fetchProducts(s.page)})).catch((function(t){console.log(t)}))}}}),J=W,Z=Object(_["a"])(J,G,X,!1,null,null,null),K=Z.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-10 mx-auto"},[a("div",{staticClass:"card fullheight rounded-0"},[a("div",{staticClass:"card-header bg-gradient p-0 pl-4 pr-4 pt-1"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[a("div",{staticClass:"form-label-group"},[a("input",{staticClass:"form-control form-control-sm mb-3 bg-transparent text-white rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"text",id:"searchCategory",placeholder:"Search Product"},on:{keyup:function(e){return t.searchCategory(e.target.value)}}}),a("label",{staticClass:"text-white",attrs:{for:"searchCategory"}},[t._v("Search Category")])])]),a("div",{staticClass:"col-1 offset-6 mt-3"},[a("i",{staticClass:"fas fa-plus-circle fa-2x",staticStyle:{cursor:"pointer"},attrs:{title:"Add Categories"},on:{click:function(e){t.toggleModal(),t.edit=!1}}})])])]),a("div",{staticClass:"card-body overflow-auto"},[a("form",{attrs:{method:"POST",enctype:"multipart/form-data"}},[a("table",{staticClass:"table table-striped"},[t._m(0),""==t.categories?a("tbody",[t._m(1)]):a("tbody",t._l(t.categories,(function(e){return a("tr",{key:e.id,staticClass:"text-center"},[a("td",{staticClass:"align-middle"},[t._v(t._s(e.category_name))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.category_status))]),a("td",{staticClass:"align-middle"},[a("i",{staticClass:"fa fa-edit mr-2",staticStyle:{cursor:"pointer"},attrs:{title:"Click to Edit "+e.category_name},on:{click:function(a){return t.editCategory(e)}}}),a("i",{staticClass:"fa fa-trash ml-2",staticStyle:{cursor:"pointer"},attrs:{title:"Click to Delete "+e.category_name},on:{click:function(a){return t.deleteCategory(e.id,e.category_name)}}})])])})),0)])]),a("hr"),a("div",{staticClass:"row item-bottom p-4"},[a("div",{staticClass:"col-6"},[a("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){return t.back()}}},[t._m(2)])]),a("div",{staticClass:"col-6"},[a("nav",{attrs:{"aria-label":"Page navigation example item-bottom"}},[a("ul",{staticClass:"pagination pagination-sm justify-content-end"},[a("li",{staticClass:"page-item",class:[{disabled:1==t.pagination.current_page}||""==t.pagination],staticStyle:{cursor:"pointer"}},[a("a",{staticClass:"page-link",on:{click:function(e){return t.fetchCategories(t.page=t.page-1)}}},[t._v(" Prev ")])]),a("li",{staticClass:"page-item disabled"},[a("a",{staticClass:"page-link text-dark"},[t._v("Page "+t._s(t.pagination.current_page)+" of "+t._s(t.pagination.last_page))])]),a("li",{staticClass:"page-item",class:[{disabled:t.pagination.current_page==t.pagination.last_page}],staticStyle:{cursor:"pointer"}},[a("a",{staticClass:"page-link",on:{click:function(e){return t.fetchCategories(t.page=t.page+1)}}},[t._v(" Next ")])])])])])])])])]),a("div",{staticClass:"modal fade",class:{show:t.show,"d-block":t.active},attrs:{tabindex:"-1",role:"dialog",id:"addCategory"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header bg-gradient"},[a("h5",{staticClass:"modal-title"},[t._v("Add Category")]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.toggleModal}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.category.category_name,expression:"category.category_name"}],staticClass:"form-control form-control-sm mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"text",id:"prodname",placeholder:"Category Name"},domProps:{value:t.category.category_name},on:{input:function(e){e.target.composing||t.$set(t.category,"category_name",e.target.value)}}}),a("label",{attrs:{for:"prodname"}},[t._v("Category Name")])]),t.errors.category_name?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.category_name))]):t._e()]),a("div",{staticClass:"col-6 p-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.category.category_status,expression:"category.category_status"}],staticClass:"form-control mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{id:"catid"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.category,"category_status",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:"0"}},[t._v("Select Status")]),a("option",{attrs:{value:"1"}},[t._v("Active")]),a("option",{attrs:{value:"2"}},[t._v("Inactive")])]),t.errors.category_status?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.category_status))]):t._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[t.msg?a("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v(" "+t._s(t.msg)+" ")]):t._e()])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.addCategory}},[t._v("Save changes")])])])])])])},et=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"text-center"},[a("th",[t._v("Category Name")]),a("th",[t._v("Status")]),a("th",[t._v("Action")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"text-center"},[a("td",{attrs:{colspan:"9"}},[a("p",{staticClass:"text-danger text-center"},[t._v("No Records...")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"float-left ml-2"},[a("i",{staticClass:"fas fa-arrow-left"}),t._v(" Back")])}],at={data:function(){return{categories:[],category_types:[],category:{category_name:"",category_type:0,category_status:0},active:!1,show:!1,pagination:[],edit:!1,errors:[],page:1,msg:null}},created:function(){this.fetchCategories(this.page),this.fetchCategoryTypes()},computed:{validCategoryName:function(){return this.category.category_name.length<=1},validCategoryType:function(){return 0==this.category.type_id},validStatus:function(){return 0==this.category.category_status}},methods:{back:function(){this.$router.push("/")},toggleModal:function(){var t=this,e=document.querySelector("body");this.active=!this.active,this.active?e.classList.add("modal-open"):e.classList.remove("modal-open"),setTimeout((function(){return t.show=!t.show}),10)},fetchCategories:function(t){var e=this,s=a("bc3a");s.get("/api/getAllCategories/?page="+t+"&status=").then((function(t){e.categories=t.data.data,e.pagination=t.data.pagination})).catch((function(t){console.log(t)}))},fetchCategoryTypes:function(){var t=this,e=a("bc3a");e.get("/api/getAllCategoryTypes/").then((function(e){t.category_types=e.data.data})).catch((function(t){console.log(t)}))},searchCategory:function(t){var e=this,s=a("bc3a");e.timer&&(clearTimeout(e.timer),e.timer=null),e.timer=setTimeout((function(){s.get("/api/searchCategory/?page="+e.page+"&category_name="+t).then((function(t){e.categories=t.data.data,e.pagination=t.data.pagination})).catch((function(t){console.log(t)}))}),500)},addCategory:function(){var t=this;if(t.errors=[],t.validCategoryName&&(t.errors.category_name="Please input Category Name."),t.validCategoryType&&(t.errors.category_type="Please Select Category Type."),t.validStatus&&(t.errors.category_status="Please Select Category Status."),!t.validCategoryName&&!t.validCategoryType&&!t.validStatus){var e=a("bc3a");0==t.edit?e.post("/api/addCategory/",t.category).then((function(e){t.msg=e.data.msg,setTimeout((function(){t.msg=null}),2e3),t.fetchCategories(t.page)})).catch((function(t){console.log(t)})):e.put("/api/updateCategory/",t.category).then((function(e){t.msg=e.data.msg,t.edit=!1,setTimeout((function(){t.msg=null}),2e3),t.fetchCategories(t.page)})).catch((function(t){console.log(t)}))}},editCategory:function(t){var e=this;e.toggleModal(),e.edit=!0,e.category.id=t.id,e.category.category_name=t.category_name,e.category.category_type=t.category_type,e.category.category_status="active"==t.category_status?1:2},deleteCategory:function(t,e){var s=this;if(!confirm("Do you wat to delete "+e))return!1;var o=a("bc3a");o.put("/api/deleteCategory/",{id:t}).then((function(){s.fetchCategories(s.page)})).catch((function(t){console.log(t)}))}}},st=at,ot=Object(_["a"])(st,tt,et,!1,null,null,null),rt=ot.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-10 mx-auto"},[a("div",{staticClass:"card fullheight rounded-0"},[a("div",{staticClass:"card-header bg-gradient p-0 pl-4 pr-4 pt-1"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.from_date,expression:"from_date"}],staticClass:"form-control form-control-sm mb-3 bg-transparent text-white rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"datetime-local",id:"from_date",placeholder:"Date"},domProps:{value:t.from_date},on:{input:[function(e){e.target.composing||(t.from_date=e.target.value)},t.searchPurchaseByDate]}}),a("label",{staticClass:"text-white",attrs:{for:"from_date"}},[t._v("From Date")])])]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.to_date,expression:"to_date"}],staticClass:"form-control form-control-sm mb-3 bg-transparent text-white rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"datetime-local",id:"to_date",placeholder:"Date"},domProps:{value:t.to_date},on:{input:[function(e){e.target.composing||(t.to_date=e.target.value)},t.searchPurchaseByDate]}}),a("label",{staticClass:"text-white",attrs:{for:"to_date"}},[t._v("To Date")])])]),a("div",{staticClass:"col-1 offset-5 mt-3"},[a("i",{staticClass:"fas fa-plus-circle fa-2x",staticStyle:{cursor:"pointer"},attrs:{title:"Add Purchase"},on:{click:function(e){t.toggleModal(),t.edit=!1}}})])])]),a("div",{staticClass:"card-body overflow-auto"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("table",{staticClass:"table table-striped text-center"},[t._m(0),a("tbody",t._l(t.purchases,(function(e){return a("tr",{key:e.id,class:{"bg-warning":1==e.iscancel}},[a("td",{staticClass:"align-middle"},[t._v(t._s(e.id))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.supplier_name))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.employee_fn)+" "+t._s(e.employee_sn))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.drnum))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.purchase_note))]),a("td",{staticClass:"align-middle"},[t._v(t._s(t.purchaseDtFormat(e.created_at)))]),a("td",{staticClass:"align-middle"},[a("i",{staticClass:"far fa-file",staticStyle:{cursor:"pointer"},on:{click:function(a){return t.openPortal(e.id)}}})]),a("td",{staticClass:"align-middle"},[1!=e.iscancel?a("i",{staticClass:"fas fa-ban ml-2",staticStyle:{cursor:"pointer"},attrs:{title:"Click to Cancel "+e.id},on:{click:function(a){return t.cancelPurchase(e.id)}}}):a("i",{staticClass:"fas fa-ban ml-2"})])])})),0)])])]),a("div",{staticClass:"row item-bottom p-4"},[a("div",{staticClass:"col-6"},[a("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){return t.back()}}},[t._m(1)])]),a("div",{staticClass:"col-6"},[a("nav",{attrs:{"aria-label":"Page navigation example item-bottom"}},[a("ul",{staticClass:"pagination pagination-sm justify-content-end"},[a("li",{staticClass:"page-item",class:[{disabled:1==t.pagination.current_page}],staticStyle:{cursor:"pointer"}},[a("a",{staticClass:"page-link",on:{click:function(e){return t.fetchPurchases(t.page=t.page-1)}}},[t._v(" Prev ")])]),a("li",{staticClass:"page-item disabled"},[a("a",{staticClass:"page-link text-dark"},[t._v("Page "+t._s(t.pagination.current_page)+" of "+t._s(t.pagination.last_page))])]),a("li",{staticClass:"page-item",class:[{disabled:t.pagination.current_page==t.pagination.last_page}],staticStyle:{cursor:"pointer"}},[a("a",{staticClass:"page-link",on:{click:function(e){return t.fetchPurchases(t.page=t.page+1)}}},[t._v(" Next ")])])])])])])])])]),a("div",{staticClass:"modal fade",class:{show:t.show,"d-block":t.active},attrs:{tabindex:"-1",role:"dialog",id:"addPurchase"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header bg-gradient"},[a("h5",{staticClass:"modal-title"},[t._v("Add Purchase")]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.toggleModal}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.purchase.created_at,expression:"purchase.created_at"}],staticClass:"form-control form-control-sm mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"datetime-local",id:"created_at",placeholder:"Date"},domProps:{value:t.purchase.created_at},on:{input:function(e){e.target.composing||t.$set(t.purchase,"created_at",e.target.value)}}}),a("label",{attrs:{for:"created_at"}},[t._v("Date")])]),t.errors.created_at?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.created_at))]):t._e()]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.purchase.drnum,expression:"purchase.drnum"}],staticClass:"form-control form-control-sm mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"text",id:"drnum",placeholder:"Delivery Reciept#"},domProps:{value:t.purchase.drnum},on:{input:function(e){e.target.composing||t.$set(t.purchase,"drnum",e.target.value)}}}),a("label",{attrs:{for:"drnum"}},[t._v("Delivery Reciept#")])]),t.errors.drnum?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.drnum))]):t._e()]),a("div",{staticClass:"col-6 p-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.purchase.supplier_id,expression:"purchase.supplier_id"}],staticClass:"form-control mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{id:"supplier_id"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.purchase,"supplier_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:"0"}},[t._v("Select Supplier")]),t._l(t.suppliers,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.supplier_name))])}))],2),t.errors.supplier_id?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.supplier_id))]):t._e()]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.purchase.purchase_note,expression:"purchase.purchase_note"}],staticClass:"form-control form-control-sm mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"text",id:"purchase_note",placeholder:"Note (Optional)"},domProps:{value:t.purchase.purchase_note},on:{input:function(e){e.target.composing||t.$set(t.purchase,"purchase_note",e.target.value)}}}),a("label",{attrs:{for:"purchase_note"}},[t._v("Note (Optional)")])]),t.errors.note?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.note))]):t._e()]),a("hr"),a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.purchase_product.search_product,expression:"purchase_product.search_product"}],staticClass:"form-control form-control-sm mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"text",id:"search_product",placeholder:"Search Product"},domProps:{value:t.purchase_product.search_product},on:{input:[function(e){e.target.composing||t.$set(t.purchase_product,"search_product",e.target.value)},function(e){return t.fetchProducts(e.target.value)}]}}),a("label",{attrs:{for:"search_product"}},[t._v("Search Product")])]),t.errors.search_product?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.search_product))]):t._e()]),a("div",{staticClass:"col-6 p-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.purchase_product.product_id,expression:"purchase_product.product_id"}],staticClass:"form-control mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{id:"product_id"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.purchase_product,"product_id",e.target.multiple?a:a[0])},function(e){return t.fetchProductById()}]}},[a("option",{attrs:{disabled:"",value:"0"}},[t._v("Select Product")]),t._l(t.products,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.product_name))])}))],2),t.errors.product_id?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.product_id))]):t._e()]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.purchase_product.purchase_qty,expression:"purchase_product.purchase_qty"}],staticClass:"form-control form-control-sm mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"number",id:"purchase_qty",min:"1",placeholder:"Quantity"},domProps:{value:t.purchase_product.purchase_qty},on:{input:function(e){e.target.composing||t.$set(t.purchase_product,"purchase_qty",e.target.value)}}}),a("label",{attrs:{for:"purchase_qty"}},[t._v("Quantity")])]),t.errors.purchase_qty?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.purchase_qty))]):t._e()]),a("div",{staticClass:"col-6"},[a("button",{staticClass:"btn btn-info btn-block item-bottom btn-sm rounded-0 mb-3",on:{click:t.addQueue}},[a("i",{staticClass:"fas fa-plus"}),t._v(" ADD")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("table",{staticClass:"table text-center"},[t._m(2),a("tbody",[t._l(t.dups,(function(e,s){return a("tr",{key:e.product_id},[a("td",[t._v(t._s(t.dups[s].product_name))]),a("td",[t._v(t._s(t.dups[s].purchase_qty))]),a("td",[t._v("₱ "+t._s(t.dups[s].unit_price))]),a("td",[t._v("₱ "+t._s(parseFloat(t.dups[s].purchase_qty*t.dups[s].unit_price).toFixed(2)))]),a("td",[a("i",{staticClass:"fa fa-trash ml-2",staticStyle:{cursor:"pointer"},attrs:{title:"Click to Delete "+t.dups[s].product_name},on:{click:function(e){return t.deleteQueue(s)}}})])])})),t._m(3),a("tr",[a("td",{attrs:{colspan:"2"}}),a("td",{staticClass:"float-right"},[t._v(t._s(0==t.purchaseTotal?"":"Total: "))]),a("td",[t._v(t._s(0==t.purchaseTotal?"":"₱ "+t.purchaseTotal))]),a("td")])],2)])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[t.msg?a("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v(" "+t._s(t.msg)+" ")]):t._e()])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.addPurchase}},[t._v("Save changes")])])])])])])},nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("ID")]),a("th",[t._v("Supplier")]),a("th",[t._v("Cashier")]),a("th",[t._v("Delivery Reciept#")]),a("th",[t._v("Note")]),a("th",[t._v("Date")]),a("th",[t._v("Purchase Product")]),a("th",[t._v("Action")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"float-left ml-2"},[a("i",{staticClass:"fas fa-arrow-left"}),t._v(" Back")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Product Name")]),a("th",[t._v("Quantity")]),a("th",[t._v("Unit Price")]),a("th",[t._v("Total")]),a("th",[t._v("Action")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{attrs:{colspan:"5"}},[a("hr")])])}],lt=(a("c975"),a("d81d"),a("a434"),{data:function(){return{msg:"",show:!1,active:!1,edit:!1,errors:[],pagination:[],purchases:[],products:[],suppliers:[],queue_purchase:[],dups:[],purchase:{supplier_id:0,drnum:"",cashier_id:this.$session.get("user_id"),created_at:new Date,purchase_note:""},from_date:new Date,to_date:new Date,purchase_product:{product_id:0,product_name:"",purchase_qty:1,unit_price:0},page:1}},created:function(){this.purchase.created_at=u()().format("YYYY-MM-DDTkk:mm"),this.from_date=u()().startOf("month").format("YYYY-MM-DDThh:mm"),this.to_date=u()().endOf("month").format("YYYY-MM-DDTkk:mm"),this.searchPurchaseByDate(),this.fetchProducts(),this.fetchSuppliers(),this.fetchPurchases()},computed:{purchaseTotal:function(){var t=0;return this.dups.forEach((function(e){t+=parseFloat(e.purchase_qty*e.unit_price)})),t.toFixed(2)},validDr:function(){return this.purchase.drnum.length<=1},validSupplier:function(){return 0==this.purchase.supplier_id}},methods:{back:function(){this.$router.push("/")},purchaseDtFormat:function(t){return u()(t).format("MMMM DD, YYYY hh:mm:ss A")},openPortal:function(t){var e=this.$router.resolve({name:"PURCHASE PRODUCTS",query:{purchase_id:t}});window.open(e.href,"_blank","height=500,width=800")},toggleModal:function(){var t=this,e=document.querySelector("body");this.active=!this.active,this.active?e.classList.add("modal-open"):e.classList.remove("modal-open"),setTimeout((function(){return t.show=!t.show}),10)},fetchProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this,s=a("bc3a");e.timer&&(clearTimeout(e.timer),e.timer=null),e.timer=setTimeout((function(){s.get("/api/searchProduct/?product_name="+t+"&limit=all").then((function(t){e.products=t.data.data})).catch((function(t){console.log(t)}))}),500)},fetchSuppliers:function(){var t=this,e=a("bc3a");e.get("/api/getAllSuppliers/").then((function(e){t.suppliers=e.data.data})).catch((function(t){console.log(t)}))},fetchPurchases:function(t){var e=this,s=a("bc3a");s.get("/api/getAllPurchases/?page="+t).then((function(t){e.purchases=t.data.data,e.pagination=t.data.pagination})).catch((function(t){console.log(t)}))},fetchProductById:function(){var t=this,e=a("bc3a");e.get("/api/getAllProductsById/?product_id="+t.purchase_product.product_id).then((function(e){var a=e.data.data;a.forEach((function(e){t.purchase_product.product_name=e.product_name,t.purchase_product.unit_price=e.unit_price}))})).catch((function(t){console.log(t)}))},searchPurchaseByDate:function(){var t=this,e=a("bc3a"),s=u()(t.from_date).format("YYYY-MM-DD HH:mm:ss"),o=u()(t.to_date).format("YYYY-MM-DD HH:mm:ss");e.get("/api/getPurchaseByDate/?from_date="+s+"&to_date="+o).then((function(e){t.purchases=e.data.data})).catch((function(t){console.log(t)}))},addPurchase:function(){var t=this;if(t.errors=[],t.validSupplier&&(t.errors.supplier_id="Please Select Supplier."),t.validDr&&(t.errors.drnum="Please Input Delivery Reciept #."),!t.validSupplier&&!t.validDr){var e=new Array({purchase:this.purchase,purchase_product:this.dups}),s=a("bc3a");s.post("/api/addPurchase/",e).then((function(e){e.data&&(t.purchase={supplier_id:0,drnum:"",cashier_id:t.$session.get("user_id"),created_at:u()().format("YYYY-MM-DDTkk:mm"),purchase_note:""},t.purchase_product={product_id:0,search_product:"",product_name:"",purchase_qty:1,unit_price:0},t.dups=[],t.toggleModal(),t.fetchPurchases(t.page))})).catch((function(t){console.log(t)}))}},cancelPurchase:function(t){var e=this,s=a("bc3a");confirm("Do you want to cancel purchase ID# "+t)&&s.get("/api/cancelPurchaseById/?purchase_id="+t).then((function(){e.fetchPurchases()})).catch((function(t){console.log(t)}))},addQueue:function(){var t=this;0!=t.purchase_product.product_id&&t.queue_purchase.push(Object(L["a"])({},this.purchase_product)),t.queue_purchase.filter((function(e,a){a===t.queue_purchase.length-1&&-1==t.dups.map((function(t){return t.product_id})).indexOf(e.product_id)&&t.dups.push({product_id:e.product_id,product_name:e.product_name,purchase_qty:e.purchase_qty,unit_price:e.unit_price})}))},deleteQueue:function(t){this.dups.splice(t,1)}}}),ct=lt,dt=Object(_["a"])(ct,it,nt,!1,null,null,null),ut=dt.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"background-color":"#ffffff"}},[t._m(0),t._l(t.purchases,(function(e){return a("div",{key:e.id,staticClass:"row mx-auto"},[1==e.iscancel?a("img",{staticStyle:{position:"absolute",width:"600px","z-index":"10"},attrs:{src:t.imgURL+"cancelled.png"}}):t._e(),a("div",{staticClass:"col-sm-6"},[a("strong",[t._v("Supplier:")]),t._v(" "+t._s(e.supplier_name))]),a("div",{staticClass:"col-sm-6"},[a("strong",[t._v("Date:")]),t._v(" "+t._s(t.purchaseDtFormat(e.created_at)))]),a("div",{staticClass:"col-sm-6"},[a("strong",[t._v("Delivery Reciept:")]),t._v(" "+t._s(e.drnum))]),a("div",{staticClass:"col-sm-6"},[a("strong",[t._v("Cashier:")]),t._v(" "+t._s(e.employee_fn)+" "+t._s(e.employee_sn))])])})),a("br"),a("br"),a("div",{staticClass:"row mx-auto"},[a("div",{staticClass:"col-sm-12"},[a("table",{staticClass:"table"},[t._m(1),a("tbody",[t._l(t.purchase_products,(function(e){return a("tr",{key:e.id,staticClass:"border-bottom"},[a("td",[t._v(t._s(e.product_name))]),a("td",[t._v(t._s(e.purchase_qty))]),a("td",[t._v("₱ "+t._s(e.total_amount))])])})),a("tr",[a("td",{staticClass:"text-right font-weight-bold pr-3",attrs:{colspan:"2"}},[t._v("Total:")]),a("td",[t._v("₱ "+t._s(t.totalPurchase))])])],2)])])]),t._m(2),t._m(3)],2)},pt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mx-auto"},[a("div",{staticClass:"col-sm-12"},[a("h5",[t._v("Cabanatuan City, Nueva Ecija")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Product Name")]),a("th",[t._v("Quantity")]),a("th",[t._v("Amount")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mx-auto mt-4"},[a("div",{staticClass:"col-sm-4 signature"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mx-auto"},[a("div",{staticClass:"col-sm-4"},[t._v(" Checked By: ")])])}],_t={data:function(){return{msg:"",errors:[],purchase_products:[],purchases:[],imgURL:"http://localhost/grocery/public/images/"}},created:function(){this.fetchPurchaseProducts(),this.fetchPurchases()},computed:{totalPurchase:function(){var t=0;return this.purchase_products.forEach((function(e){t+=parseFloat(e.total_amount)})),t.toFixed(2)}},methods:{purchaseDtFormat:function(t){return u()(t).format("MMMM DD, YYYY hh:mm:ss A")},fetchPurchaseProducts:function(){var t=this,e=a("bc3a");e.get("/api/getAllPurchaseProductsById/?purchase_id="+t.$route.query.purchase_id).then((function(e){t.purchase_products=e.data.data})).catch((function(t){console.log(t)}))},fetchPurchases:function(){var t=this,e=a("bc3a");e.get("/api/getAllPurchasesById/?purchase_id="+t.$route.query.purchase_id).then((function(e){t.purchases=e.data.data})).catch((function(t){console.log(t)}))}}},vt=_t,ft=Object(_["a"])(vt,mt,pt,!1,null,null,null),ht=ft.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-10 mx-auto"},[a("div",{staticClass:"card fullheight rounded-0"},[a("div",{staticClass:"card-header bg-gradient p-0 pl-4 pr-4 pt-1"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.product_name,expression:"product_name"}],staticClass:"form-control form-control-sm mb-3 rounded-0 border-top-0 bg-transparent text-white border-left-0  border-right-0",attrs:{type:"text",id:"inputProduct",placeholder:"Insert Category"},domProps:{value:t.product_name},on:{keyup:function(e){return t.fetchInventory(t.page,e.target.value,t.category_id,t.from_date,t.to_date)},input:function(e){e.target.composing||(t.product_name=e.target.value)}}}),a("label",{staticClass:"text-white",attrs:{for:"inputProduct"}},[t._v("Search Product/Barcode")])])]),a("div",{staticClass:"col-sm-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.category_id,expression:"category_id"}],staticClass:"form-control form-control-sm rounded-0 text-white bg-transparent mt-3 border-top-0 border-left-0 border-right-0",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.category_id=e.target.multiple?a:a[0]},function(e){return t.fetchInventory(t.page,t.product_name,e.target.value,t.from_date,t.to_date)}]}},[a("option",{staticClass:"text-dark",attrs:{value:"0"}},[t._v("All Categories")]),t._l(t.categories,(function(e){return a("option",{key:e.id,staticClass:"text-dark",domProps:{value:e.id}},[t._v(t._s(e.category_name))])}))],2)]),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.from_date,expression:"from_date"}],staticClass:"form-control form-control-sm text-white mb-3 bg-transparent rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"datetime-local",id:"from_date",placeholder:"Date"},domProps:{value:t.from_date},on:{input:[function(e){e.target.composing||(t.from_date=e.target.value)},function(e){return t.fetchInventory(t.page,t.product_name,t.category_id,e.target.value,t.to_date)}]}}),a("label",{staticClass:"text-white",attrs:{for:"from_date"}},[t._v("From Date")])])]),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.to_date,expression:"to_date"}],staticClass:"form-control form-control-sm text-white mb-3 bg-transparent rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"datetime-local",id:"to_date",placeholder:"Date"},domProps:{value:t.to_date},on:{input:[function(e){e.target.composing||(t.to_date=e.target.value)},function(e){return t.fetchInventory(t.page,t.product_name,t.category_id,t.from_date,e.target.value)}]}}),a("label",{staticClass:"text-white",attrs:{for:"to_date"}},[t._v("To Date")])])])])]),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table text-center"},[t._m(0),t.loading?a("tbody",[t._m(1)]):a("tbody",[t.inventories.length?t._l(t.inventories,(function(e){return a("tr",{key:e.id,staticClass:"border-bottom"},[a("td",[t._v(t._s(e.product_name))]),a("td",[t._v(t._s(e.category_name))]),a("td",[t._v(t._s(e.begstock_qty))]),a("td",[t._v(t._s(e.purchase_qty))]),a("td",[t._v(t._s(e.sales_qty))]),a("td",[t._v(t._s(e.spoilage_qty))]),a("td",{class:{"text-white bg-danger":e.endstock_qty<=e.alarmlvl}},[t._v(t._s(e.endstock_qty))])])})):a("tr",[t._m(2)])],2)]),a("div",{staticClass:"row item-bottom pl-4 pr-4"},[a("div",{staticClass:"col-4"},[a("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){return t.back()}}},[t._m(3)])]),a("div",{staticClass:"col-4 text-center"},[a("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){return t.printInventory()}}},[t._m(4)])]),a("div",{staticClass:"col-4"},[a("nav",{attrs:{"aria-label":"Page navigation example item-bottom"}},[a("ul",{staticClass:"pagination pagination-sm justify-content-end"},[a("li",{staticClass:"page-item",class:[{disabled:1==t.pagination.current_page||""==t.pagination}],staticStyle:{cursor:"pointer"}},[a("a",{staticClass:"page-link",on:{click:function(e){return t.fetchInventory(t.page=t.page-1,t.product_name,t.category_id,t.from_date,t.to_date)}}},[t._v(" Prev ")])]),a("li",{staticClass:"page-item disabled"},[a("a",{staticClass:"page-link text-dark"},[t._v("Page "+t._s(t.pagination.current_page)+" of "+t._s(t.pagination.last_page))])]),a("li",{staticClass:"page-item",class:[{disabled:t.pagination.current_page==t.pagination.last_page}],staticStyle:{cursor:"pointer"}},[a("a",{staticClass:"page-link",on:{click:function(e){return t.fetchInventory(t.page=t.page+1,t.product_name,t.category_id,t.from_date,t.to_date)}}},[t._v(" Next ")])])])])])])])])])])},bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Product")]),a("th",[t._v("Category")]),a("th",[t._v("Beginning")]),a("th",[t._v("Purchase")]),a("th",[t._v("Sold")]),a("th",[t._v("Spoilages")]),a("th",[t._v("Ending")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{attrs:{colspan:"7"}},[a("img",{attrs:{src:"http://localhost/grocery/public/images/loading.gif",alt:""}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{colspan:"7"}},[a("strong",{staticClass:"text-danger text-center"},[t._v("No Record")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"float-left ml-2"},[a("i",{staticClass:"fas fa-arrow-left"}),t._v(" Back")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"float-left ml-2"},[a("i",{staticClass:"fas fa-print"}),t._v(" Print All")])}],Ct={data:function(){return{categories:[],pagination:[],inventories:[],product_name:"",category_id:0,loading:!1,from_date:new Date,to_date:new Date,page:1,imgURL:"http://localhost/grocery/public/images/products/"}},created:function(){this.fetchCategories(),this.from_date=u()().format("YYYY-MM-DDTHH:mm"),this.to_date=u()().format("YYYY-MM-DDTHH:mm"),this.fetchInventory(this.page,this.product_name,this.category_id,this.from_date,this.to_date)},methods:{back:function(){this.$router.push("/")},fetchCategories:function(){var t=this,e=a("bc3a");e.get("/api/getAllCategories/?page=&status=active").then((function(e){t.categories=e.data.data})).catch((function(t){console.log(t)}))},fetchInventory:function(t,e,s,o,r){var i=this,n=a("bc3a");i.loading=!0,i.timer&&(clearTimeout(i.timer),i.timer=null),i.timer=setTimeout((function(){n.get("/api/getAllInventories/?page="+t+"&product_name="+e+"&category_id="+s+"&fdate="+o+"&tdate="+r).then((function(t){console.log(t.data),i.inventories=t.data.data,i.pagination=t.data.pagination,i.loading=!1})).catch((function(t){console.log(t)}))}),200)},printInventory:function(){var t=this.$router.resolve({name:"Print Inventory",query:{fdate:this.from_date,tdate:this.to_date,catid:this.category_id,product_name:this.product_name}});window.open(t.href,"_blank","height=500,width=900")}}},yt=Ct,xt=Object(_["a"])(yt,gt,bt,!1,null,null,null),wt=xt.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-2"},[a("div",{staticClass:"card fullheight rounded-0",staticStyle:{overflow:"auto"}},[t._m(0),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},t._l(t.menus,(function(e,s){return a("div",{key:e.id,staticClass:"col-12 mb-2",attrs:{value:e.id}},[a("button",{staticClass:"btn btn-block btn-outline-dark rounded-0",class:{active:null!==t.selectedMenu?e.id==t.selectedMenu:0===s},on:{click:function(a){t.selectedMenu=e.id,t.headerName=e.menu_name,t.fetchSales(t.z_employee_id,t.z_from_date,t.z_to_date),t.fetchSalesSingle(t.x_employee_id,t.x_from_date),t.fetchSalesProduct(t.ps_select,t.ps_from_date,t.ps_to_date),t.fetchSalesRanking(t.rank_from_date,t.rank_to_date),t.fetchEmployees()}}},[t._v(t._s(e.menu_name))])])})),0)])]),a("button",{staticClass:"btn btn-primary text-white btn-block sticky-bottom btn-lg rounded-0",on:{click:function(e){return t.back()}}},[t._m(1)])]),a("div",{staticClass:"col-sm-10"},[a("div",{staticClass:"card fullheight rounded-0",staticStyle:{overflow:"auto"}},[a("div",{staticClass:"card-header bg-gradient text-white rounded-0 pt-0 pb-0"},[null===t.selectedMenu||1==t.selectedMenu?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-2 mt-3"},[a("h5",[t._v(t._s(t.headerName))])]),a("div",{staticClass:"col-sm-2 mt-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.payment_id,expression:"payment_id"}],staticClass:"form-control form-control-sm rounded-0 text-white bg-transparent border-top-0 border-left-0 border-right-0",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.payment_id=e.target.multiple?a:a[0]},function(e){return t.fetchSalesInvoice(e.target.value,t.customer_id,t.inv_from_date,t.inv_to_date)}]}},t._l(t.payment_types,(function(e){return a("option",{key:e.id,staticClass:"text-dark",domProps:{value:e.id}},[t._v(t._s(e.payment_name))])})),0)]),a("div",{staticClass:"col-sm-2 mt-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.customer_id,expression:"customer_id"}],staticClass:"form-control form-control-sm rounded-0 text-white bg-transparent border-top-0 border-left-0 border-right-0",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.customer_id=e.target.multiple?a:a[0]},function(e){return t.fetchSalesInvoice(t.payment_id,e.target.value,t.inv_from_date,t.inv_to_date)}]}},t._l(t.customers,(function(e){return a("option",{key:e.id,staticClass:"text-dark",domProps:{value:e.id}},[t._v(t._s(e.customer_name))])})),0)]),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.inv_from_date,expression:"inv_from_date"}],staticClass:"form-control form-control-sm text-white bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",attrs:{type:"datetime-local",id:"barfdt",placeholder:"Date"},domProps:{value:t.inv_from_date},on:{input:[function(e){e.target.composing||(t.inv_from_date=e.target.value)},function(e){return t.fetchSalesInvoice(t.payment_id,t.customer_id,e.target.value,t.inv_to_date)}]}}),a("label",{staticClass:"text-white",attrs:{for:"bardt"}},[t._v("From Date")])])]),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.inv_to_date,expression:"inv_to_date"}],staticClass:"form-control form-control-sm text-white bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",attrs:{type:"datetime-local",id:"bartdt",placeholder:"Date"},domProps:{value:t.inv_to_date},on:{input:[function(e){e.target.composing||(t.inv_to_date=e.target.value)},function(e){return t.fetchSalesInvoice(t.payment_id,t.customer_id,t.inv_from_date,e.target.value)}]}}),a("label",{staticClass:"text-white",attrs:{for:"bartdt"}},[t._v("To Date")])])])]):t._e(),2==t.selectedMenu?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6 mt-3"},[a("h5",[t._v(t._s(t.headerName))])]),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.rank_from_date,expression:"rank_from_date"}],staticClass:"form-control form-control-sm text-white bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",attrs:{type:"date",id:"barfdt",placeholder:"Date"},domProps:{value:t.rank_from_date},on:{input:[function(e){e.target.composing||(t.rank_from_date=e.target.value)},function(e){return t.fetchSalesRanking(e.target.value,t.rank_to_date)}]}}),a("label",{staticClass:"text-white",attrs:{for:"bardt"}},[t._v("From Date")])])]),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.rank_to_date,expression:"rank_to_date"}],staticClass:"form-control form-control-sm text-white bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",attrs:{type:"date",id:"bartdt",placeholder:"Date"},domProps:{value:t.rank_to_date},on:{input:[function(e){e.target.composing||(t.rank_to_date=e.target.value)},function(e){return t.fetchSalesRanking(t.rank_from_date,e.target.value)}]}}),a("label",{staticClass:"text-white",attrs:{for:"bartdt"}},[t._v("To Date")])])])]):t._e(),3==t.selectedMenu?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3 mt-3"},[a("h5",[t._v(t._s(t.headerName))])]),a("div",{staticClass:"col-sm-3 mt-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.ps_select,expression:"ps_select"}],staticClass:"form-control form-control-sm rounded-0 text-white bg-transparent border-top-0 border-left-0 border-right-0",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.ps_select=e.target.multiple?a:a[0]},function(e){return t.fetchSalesProduct(e.target.value,t.ps_from_date,t.ps_to_date)}]}},[a("option",{staticClass:"text-dark",attrs:{value:"1"}},[t._v("By Products")]),a("option",{staticClass:"text-dark",attrs:{value:"2"}},[t._v("By Categories")])])]),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.ps_from_date,expression:"ps_from_date"}],staticClass:"form-control form-control-sm text-white bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",attrs:{type:"date",id:"barfdt",placeholder:"Date"},domProps:{value:t.ps_from_date},on:{input:[function(e){e.target.composing||(t.ps_from_date=e.target.value)},function(e){return t.fetchSalesProduct(t.ps_select,e.target.value,t.ps_to_date)}]}}),a("label",{staticClass:"text-white",attrs:{for:"bardt"}},[t._v("From Date")])])]),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.ps_to_date,expression:"ps_to_date"}],staticClass:"form-control form-control-sm text-white bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",attrs:{type:"date",id:"bartdt",placeholder:"Date"},domProps:{value:t.ps_to_date},on:{input:[function(e){e.target.composing||(t.ps_to_date=e.target.value)},function(e){return t.fetchSalesProduct(t.ps_select,t.ps_from_date,e.target.value)}]}}),a("label",{staticClass:"text-white",attrs:{for:"bartdt"}},[t._v("To Date")])])])]):t._e(),4==t.selectedMenu?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6 mt-3"},[a("h5",[t._v(t._s(t.headerName))])]),a("div",{staticClass:"col-sm-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.x_employee_id,expression:"x_employee_id"}],staticClass:"form-control form-control-sm rounded-0 text-white bg-transparent mt-3 border-top-0 border-left-0 border-right-0",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.x_employee_id=e.target.multiple?a:a[0]},function(e){return t.fetchSalesSingle(e.target.value,t.x_from_date)}]}},[a("option",{staticClass:"text-dark",attrs:{value:"0"}},[t._v("All Employees")]),t._l(t.x_employees,(function(e){return a("option",{key:e.id,staticClass:"text-dark",domProps:{value:e.id}},[t._v(t._s(e.employee_fn+" "+e.employee_sn))])}))],2)]),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.x_from_date,expression:"x_from_date"}],staticClass:"form-control form-control-sm text-white bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",attrs:{type:"date",id:"piefdt",placeholder:"Date"},domProps:{value:t.x_from_date},on:{input:[function(e){e.target.composing||(t.x_from_date=e.target.value)},function(e){return t.fetchSalesSingle(t.x_employee_id,e.target.value)}]}}),a("label",{staticClass:"text-white",attrs:{for:"pirfdt"}},[t._v("From Date")])])])]):t._e(),5==t.selectedMenu?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3 mt-3"},[a("h5",[t._v(t._s(t.headerName))])]),a("div",{staticClass:"col-sm-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.z_employee_id,expression:"z_employee_id"}],staticClass:"form-control form-control-sm rounded-0 text-white bg-transparent mt-3 border-top-0 border-left-0 border-right-0",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.z_employee_id=e.target.multiple?a:a[0]},function(e){return t.fetchSales(e.target.value,t.z_from_date,t.z_to_date)}]}},[a("option",{staticClass:"text-dark",attrs:{value:"0"}},[t._v("All Employees")]),t._l(t.z_employees,(function(e){return a("option",{key:e.id,staticClass:"text-dark",domProps:{value:e.id}},[t._v(t._s(e.employee_fn+" "+e.employee_sn))])}))],2)]),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.z_from_date,expression:"z_from_date"}],staticClass:"form-control form-control-sm text-white bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",attrs:{type:"date",id:"piefdt",placeholder:"Date"},domProps:{value:t.z_from_date},on:{input:[function(e){e.target.composing||(t.z_from_date=e.target.value)},function(e){return t.fetchSales(t.z_employee_id,e.target.value,t.z_to_date)}]}}),a("label",{staticClass:"text-white",attrs:{for:"pirfdt"}},[t._v("From Date")])])]),a("div",{staticClass:"col-sm-3"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.z_to_date,expression:"z_to_date"}],staticClass:"form-control form-control-sm text-white bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",attrs:{type:"date",id:"pietdt",placeholder:"Date"},domProps:{value:t.z_to_date},on:{input:[function(e){e.target.composing||(t.z_to_date=e.target.value)},function(e){return t.fetchSales(t.z_employee_id,t.z_from_date,e.target.value)}]}}),a("label",{staticClass:"text-white",attrs:{for:"pietdt"}},[t._v("To Date")])])])]):t._e()]),a("div",{staticClass:"card-body"},[null===t.selectedMenu||1==t.selectedMenu?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("table",{staticClass:"table table-sm text-center"},[t._m(2),t._l(t.sales_invoices,(function(e){return a("tbody",{key:e.id},[a("tr",[a("td",[t._v(t._s(e.id))]),a("td",[t._v(t._s(e.payment_name))]),a("td",[t._v(t._s(e.customer_name))]),a("td",[t._v(t._s(e.employee_fn+" "+e.employee_sn))]),a("td",[t._v(t._s(e.sales_comment))]),a("td",[t._v(t._s(e.sales_status))]),a("td",[t._v(t._s(e.created_at))]),a("td",[a("i",{staticClass:"fas fa-eye",staticStyle:{cursor:"pointer"},on:{click:function(a){return t.openReceipt(e.id)}}})]),a("td",["not remitted"==e.sales_status?a("i",{staticClass:"fas fa-ban",staticStyle:{cursor:"pointer"},on:{click:function(a){"manager"==t.$session.get("user_approval")?t.voidSales(e.id):t.waringPriv()}}}):t._e()])])])}))],2)])]):t._e(),2==t.selectedMenu?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[t.loaded?a("div",[a("pie",{attrs:{chartData:t.pie,options:t.pieOptions}})],1):t._e()])]):t._e(),3==t.selectedMenu?a("div",{staticClass:"row"},[1==t.ps_select?a("div",{staticClass:"col-12"},[a("table",{staticClass:"table table-sm table-hover text-center"},[t._m(3),t._l(t.sales_prods,(function(e){return a("tbody",{key:e.id},[a("tr",[a("td",{staticClass:"align-middle"},[t._v(t._s(e.product_name))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.category_name))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s(e.unit_price))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.tot_qty))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s((e.unit_price*e.tot_qty).toFixed(2)))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s(e.tot_amount))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s(e.tot_disc))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s(e.tot_vat))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s((e.tot_amount-e.tot_vat-e.tot_disc).toFixed(2)))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s((e.tot_amount-e.tot_vat-e.tot_disc-e.unit_price*e.tot_qty).toFixed(2)))])])])})),a("tbody",[a("tr",{staticClass:"font-weight-bold"},[a("td",{staticClass:"text-right",attrs:{colspan:"4"}},[t._v("TOTAL:")]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.unitCostTotal))]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.salesTotal))]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.discountTotal))]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.vatTotal))]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.totalAmount))]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.totalProfit))])])])],2)]):2==t.ps_select?a("div",{staticClass:"col-12"},[a("table",{staticClass:"table table-sm table-hover text-center"},[t._m(4),t._l(t.sales_cats,(function(e){return a("tbody",{key:e.category_id},[a("tr",[a("td",{staticClass:"align-middle"},[t._v(t._s(e.category_name))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.tot_qty))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s(e.unit_price))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s(e.tot_cost))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s(e.tot_amount))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s(e.tot_disc))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s(e.tot_vat))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s((e.tot_amount-e.tot_vat-e.tot_disc).toFixed(2)))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s((e.tot_amount-e.tot_vat-e.tot_disc-e.tot_cost).toFixed(2)))])])])})),a("tbody",[a("tr",{staticClass:"font-weight-bold"},[a("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("TOTAL:")]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.unitCostTotal))]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.salesTotal))]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.discountTotal))]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.vatTotal))]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.totalAmount))]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.totalProfit))])])])],2)]):t._e(),a("div",{staticClass:"col-sm-12 item-bottom mb-3"},[a("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){return t.printSales()}}},[t._m(5)])])]):t._e(),4==t.selectedMenu?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[t.loaded?a("div",[a("bar",{attrs:{chartData:t.barSingle,options:t.barOptions}})],1):t._e()]),a("hr")]):t._e(),5==t.selectedMenu?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[t.loaded?a("div",[a("bar",{attrs:{chartData:t.bar,options:t.barOptions}})],1):t._e()])]):t._e()])])])])},kt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header bg-gradient text-white rounded-0 p-3"},[a("h5",[t._v("Menus")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"float-left ml-2"},[a("i",{staticClass:"fas fa-arrow-left"}),t._v(" Back")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Invoice ID")]),a("th",[t._v("Payment Type")]),a("th",[t._v("Customer")]),a("th",[t._v("Cashier")]),a("th",[t._v("Comment")]),a("th",[t._v("Status")]),a("th",[t._v("Date Time")]),a("th",[t._v("View")]),a("th",[t._v("Void")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Product Name")]),a("th",[t._v("Category")]),a("th",[t._v("Unit Cost")]),a("th",[t._v("Sold")]),a("th",[t._v("Total Cost")]),a("th",[t._v("Total Price")]),a("th",[t._v("Discount")]),a("th",[t._v("Vat Amount")]),a("th",[t._v("Total Amount")]),a("th",[t._v("Total Profit")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v("Category Name")]),a("th",[t._v("Sold")]),a("th",[t._v("Unit Cost")]),a("th",[t._v("Total Cost")]),a("th",[t._v("Total Price")]),a("th",[t._v("Discount")]),a("th",[t._v("Vat")]),a("th",[t._v("Total Amount")]),a("th",[t._v("Total Profit")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"float-left ml-2"},[a("i",{staticClass:"fas fa-print"}),t._v(" Print All")])}],St=(a("d3b7"),a("25f0"),a("5319"),{extends:C["a"],mixins:[C["d"].reactiveProp],props:["chartData","options"],mounted:function(){this.renderChart(this.chartData,this.options)}}),Dt=St,Et=Object(_["a"])(Dt,s,o,!1,null,null,null),Nt=Et.exports,Tt={extends:C["b"],mixins:[C["d"].reactiveProp],props:["chartData","options"],mounted:function(){this.renderChart(this.chartData,this.options)}},$t=Tt,At=Object(_["a"])($t,r,i,!1,null,null,null),Mt=At.exports,jt=a("bc3a"),Yt=a.n(jt),qt={components:{Bar:Nt,Pie:Mt},data:function(){return{menus:[{id:1,menu_name:"Sales Invoice"},{id:2,menu_name:"Sold Ranking"},{id:3,menu_name:"Product Sales"},{id:4,menu_name:"X Read"},{id:5,menu_name:"Z Read"}],headerName:"Sales Invoice",selectedMenu:null,loaded:!1,bar:[],barSingle:[],pie:[],barOptions:{legend:{display:!1},scales:{yAxes:[{ticks:{callback:function(t){return parseInt(t)>=1e3?"₱"+t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"₱"+t}}}]},responsive:!0,maintainAspectRatio:!1},pieOptions:{responsive:!0,maintainAspectRatio:!1},employees:[],sales_prods:[],sales_cats:[],sales_invoices:[],ps_select:1,customer_id:1,payment_id:1,z_employee_id:0,x_employee_id:0,z_employees:[],x_employees:[],payment_types:[],customers:[],rank_from_date:new Date,rank_to_date:new Date,x_from_date:new Date,z_from_date:new Date,z_to_date:new Date,ps_from_date:new Date,ps_to_date:new Date,inv_from_date:new Date,inv_to_date:new Date}},created:function(){this.rank_from_date=u()().startOf("month").format("YYYY-MM-DD"),this.rank_to_date=u()().endOf("month").format("YYYY-MM-DD"),this.x_from_date=u()().format("YYYY-MM-DD"),this.z_from_date=u()().startOf("month").format("YYYY-MM-DD"),this.z_to_date=u()().endOf("month").format("YYYY-MM-DD"),this.ps_from_date=u()().startOf("month").format("YYYY-MM-DD"),this.ps_to_date=u()().endOf("month").format("YYYY-MM-DD"),this.inv_from_date=u()().startOf("month").format("YYYY-MM-DDTHH:mm"),this.inv_to_date=u()().endOf("month").format("YYYY-MM-DDTkk:mm"),this.fetchSalesInvoice(this.payment_id,this.customer_id,this.inv_from_date,this.inv_to_date),this.fetchPaymentTypes(),this.fetchCustomers()},methods:{back:function(){this.$router.push("/")},openReceipt:function(t){var e=this.$router.resolve({name:"SALES RECEIPT",query:{sales_id:t}});window.open(e.href,"_blank","height=500,width=800")},fetchSales:function(t,e,a){var s=this;s.loaded=!1,Yt.a.get("/api/getSalesByDate/?frdate="+e+"&tdate="+a+"&employee_id="+t).then((function(t){s.loaded=!0;var e=t.data.data,a=[],o=[];e.forEach((function(t){a.push(u()(t.sales_date).format("MMM DD, YYYY")),o.push(t.sales_total)})),s.bar={labels:a,datasets:[{backgroundColor:"#5b86e5",data:o}]}})).catch((function(t){console.log(t)}))},fetchSalesSingle:function(t,e){var a=this;a.loaded=!1,Yt.a.get("/api/getSalesByDate/?frdate="+e+"&employee_id="+t).then((function(t){a.loaded=!0;var e=t.data.data,s=[],o=[];e.forEach((function(t){s.push(u()(t.sales_date).format("MMM DD, YYYY")),o.push(t.sales_total)})),a.barSingle={labels:s,datasets:[{backgroundColor:"#5b86e5",data:o}]}})).catch((function(t){console.log(t)}))},fetchSalesRanking:function(t,e){var a=this;a.loaded=!1,a.timer&&(clearTimeout(a.timer),a.timer=null),a.timer=setTimeout((function(){Yt.a.get("/api/getSalesRankingByDate/?frdate="+t+"&tdate="+e).then((function(t){a.loaded=!0;var e=t.data.data,s=[],o=[];e.forEach((function(t){s.push(t.product_name+" ("+t.total_qty+")"),o.push(t.total_qty)})),a.pie={labels:s,datasets:[{backgroundColor:["#5b86e5","#c91162","#4f3947","#1a355b","#a3f3a6"],data:o}]}})).catch((function(t){console.log(t)}))}),100)},fetchSalesProduct:function(t,e,a){var s=this;Yt.a.get("/api/getAllSalesProduct/?frdate="+e+"&tdate="+a).then((function(t){var e=t.data.data;s.sales_prods=e.filter((function(t){return 0!=t.tot_qty}))})).catch((function(t){console.log(t)})),Yt.a.get("/api/getAllSalesCategory/?frdate="+e+"&tdate="+a).then((function(t){var e=t.data.data;s.sales_cats=e.filter((function(t){return 0!=t.tot_qty}))})).catch((function(t){console.log(t)}))},fetchEmployees:function(){var t=this;Yt.a.get("/api/getAllEmployees/?status=active").then((function(e){t.loaded=!0,t.z_employees=e.data.data,t.x_employees=e.data.data})).catch((function(t){console.log(t)}))},fetchPaymentTypes:function(){var t=this;Yt.a.get("/api/getAllPaymentTypes/").then((function(e){t.payment_types=e.data.data})).catch((function(t){console.log(t)}))},fetchCustomers:function(){var t=this;Yt.a.get("/api/getAllCustomers/?customer_status=active").then((function(e){t.customers=e.data.data})).catch((function(t){console.log(t)}))},fetchSalesInvoice:function(t,e,a,s){var o=this;Yt.a.get("/api/getAllSalesInvoice/?status=active&frdate="+a+"&tdate="+s+"&payment_id="+t+"&customer_id="+e).then((function(t){o.sales_invoices=t.data.data})).catch((function(t){console.log(t)}))},voidSales:function(t){var e=this;confirm("Are you sure to void this Invoice ID #"+t)&&Yt.a.put("/api/updateSalesInvoice/",{sales_id:t}).then((function(){e.fetchSalesInvoice(e.payment_id,e.customer_id,e.inv_from_date,e.inv_to_date)})).catch((function(t){console.log(t)}))},printSales:function(){var t=this.$router.resolve({name:"Print Sales",query:{typeid:this.ps_select,fdate:this.ps_from_date,tdate:this.ps_to_date}});window.open(t.href,"_blank","height=500,width=900")},waringPriv:function(){alert("Only manager can void sales....")}},computed:{salesTotal:function(){var t=0;return this.sales_prods.forEach((function(e){t+=parseFloat(e.tot_amount)})),t.toFixed(2)},unitCostTotal:function(){var t=0;return this.sales_prods.forEach((function(e){t+=parseFloat(e.unit_price*e.tot_qty)})),t.toFixed(2)},vatTotal:function(){var t=0;return this.sales_prods.forEach((function(e){t+=parseFloat(e.tot_vat)})),t.toFixed(2)},discountTotal:function(){var t=0;return this.sales_prods.forEach((function(e){t+=parseFloat(e.tot_disc)})),t.toFixed(2)},totalAmount:function(){var t=0;return this.sales_prods.forEach((function(e){t+=parseFloat(e.tot_amount-e.tot_vat-e.tot_disc)})),t.toFixed(2)},totalProfit:function(){return(this.totalAmount-this.unitCostTotal).toFixed(2)}}},It=qt,Ot=Object(_["a"])(It,Pt,kt,!1,null,null,null),Ft=Ot.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-10 mx-auto"},[a("div",{staticClass:"card fullheight rounded-0"},[a("div",{staticClass:"card-header bg-gradient"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.from_date,expression:"from_date"}],staticClass:"form-control form-control-sm mb-3 bg-transparent text-white rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"date",id:"from_date",placeholder:"Date"},domProps:{value:t.from_date},on:{input:[function(e){e.target.composing||(t.from_date=e.target.value)},function(e){return t.fetchRemittances(e.target.value,t.to_date)}]}}),a("label",{staticClass:"text-white",attrs:{for:"from_date"}},[t._v("From Date")])])]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.to_date,expression:"to_date"}],staticClass:"form-control form-control-sm mb-3 bg-transparent text-white rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"date",id:"to_date",placeholder:"Date"},domProps:{value:t.to_date},on:{input:[function(e){e.target.composing||(t.to_date=e.target.value)},function(e){return t.fetchRemittances(t.from_date,e.target.value)}]}}),a("label",{staticClass:"text-white",attrs:{for:"to_date"}},[t._v("To Date")])])]),a("div",{staticClass:"col-1 offset-5 mt-3"},[a("i",{staticClass:"fas fa-plus-circle fa-2x ml-4",staticStyle:{cursor:"pointer"},attrs:{title:"Add Products"},on:{click:function(e){t.toggleModal(),t.edit=!1}}})])])]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("table",{staticClass:"table table-sm text-center"},[t._m(0),t._l(t.remittances,(function(e){return a("tbody",{key:e.remit_id},[a("tr",{class:{"bg-warning":1==e.iscancel}},[a("td",[t._v(t._s(e.remit_id))]),a("td",[t._v(t._s(e.employee_fn+" "+e.employee_sn))]),a("td",[t._v("₱ "+t._s(e.expense_amount))]),a("td",[t._v("₱ "+t._s(e.sales_amount))]),a("td",[t._v("₱ "+t._s(e.remitted_amount))]),a("td",[t._v("₱ "+t._s((Number(e.remitted_amount)+Number(e.expense_amount)-Number(e.sales_amount)).toFixed(2)))]),a("td",[t._v(t._s(t.remitDtFormat(e.created_at)))]),a("td",{staticClass:"align-middle"},[a("i",{staticClass:"far fa-file",staticStyle:{cursor:"pointer"},on:{click:function(a){return t.openPortal(e.remit_id)}}})]),a("td",{staticClass:"align-middle"},[1!=e.iscancel?a("i",{staticClass:"fas fa-ban ml-2",staticStyle:{cursor:"pointer"},attrs:{title:"Click to Cancel Remit ID #"+e.remit_id},on:{click:function(a){return t.cancelRemittance(e.remit_id)}}}):t._e()])])])}))],2)])]),a("div",{staticClass:"row item-bottom pl-4 pr-4 pb-4"},[a("div",{staticClass:"col-4"},[a("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){return t.back()}}},[t._m(1)])])])])])]),a("div",{staticClass:"modal fade",class:{show:t.show,"d-block":t.active},attrs:{tabindex:"-1",role:"dialog",id:"addProduct"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header bg-gradient"},[a("h5",{staticClass:"modal-title"},[t._v("Cash Count")]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.toggleModal}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("table",{staticClass:"table"},[t._l(t.denoms,(function(e){return a("tbody",{key:e.id,staticClass:"border-top-0"},[a("tr",[a("td",[t._v("₱ "+t._s(e.amount))]),a("td",{staticClass:"pl-3 pr-3 pb-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.money[e.id],expression:"money[denom.id]"}],staticClass:"form-control form-control-sm rounded-0 border-top-0 border-left-0 border-right-0",attrs:{type:"number"},domProps:{value:t.money[e.id]},on:{input:function(a){a.target.composing||t.$set(t.money,e.id,a.target.value)}}})]),a("td",{staticClass:"pl-3 pr-3"},[a("input",{staticClass:"form-control form-control-sm rounded-0 border-top-0 border-left-0 border-right-0",attrs:{type:"number",disabled:""},domProps:{value:isNaN(t.money[e.id]*e.amount)?0:t.money[e.id]*e.amount}})])])])})),a("tbody",[a("tr",[a("td"),a("td",{staticClass:"font-weight-bold text-right"},[t._v("Total Cash Count :")]),a("td",{staticClass:"pl-2 pr-2"},[t._v("₱ "+t._s(t.totAmount))])]),a("tr",[a("td"),a("td",{staticClass:"font-weight-bold text-right"},[t._v("Total Expense :")]),a("td",{staticClass:"pl-2 pr-2"},[t._v("₱ "+t._s(t.totExAmount))])]),a("tr",[a("td"),a("td",{staticClass:"font-weight-bold text-right"},[t._v("Total Cash Sale :")]),a("td",{staticClass:"pl-2 pr-2"},[t._v("₱ "+t._s(t.totSalesAmount))])]),a("tr",[a("td"),a("td",{staticClass:"font-weight-bold text-right"},[t._v("To Remit :")]),a("td",{staticClass:"pl-2 pr-2"},[t._v("₱ "+t._s(t.toRemit))])]),a("tr",[a("td"),t._m(2),a("td",{staticClass:"pl-2 pr-2",class:{"text-danger":t.grandTotal<0,"text-success":t.grandTotal>0}},[t._v("₱ "+t._s(t.grandTotal))])])])],2)]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.addRemit}},[t._v("Save changes")])])])])])])},Rt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("ID")]),a("th",[t._v("Remitted By")]),a("th",[t._v("Total Expense")]),a("th",[t._v("Total Sales")]),a("th",[t._v("Remitted Amount")]),a("th",[a("b",{staticClass:"text-success"},[t._v("Over")]),t._v("/"),a("b",{staticClass:"text-danger"},[t._v("Short")])]),a("th",[t._v("Remit Date")]),a("th",[t._v("View")]),a("th",[t._v("Action")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"float-left ml-2"},[a("i",{staticClass:"fas fa-arrow-left"}),t._v(" Back")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"font-weight-bold text-right"},[a("b",{staticClass:"text-success"},[t._v("OVERAGE")]),t._v(" / "),a("b",{staticClass:"text-danger"},[t._v("SHORTAGE")]),t._v(":")])}],Ut={data:function(){return{denoms:[{id:0,amount:1e3},{id:1,amount:500},{id:2,amount:200},{id:3,amount:100},{id:4,amount:50},{id:5,amount:20},{id:6,amount:10},{id:7,amount:5},{id:8,amount:1},{id:9,amount:.25}],money:[],remittances:[],remit_details:{remit_qty:0,remit_amount:0,remit_total:0},expense_amount:[],sales_amount:[],from_date:new Date,to_date:new Date,active:!1,show:!1}},created:function(){this.from_date=u()().startOf("month").format("YYYY-MM-DD"),this.to_date=u()().endOf("month").format("YYYY-MM-DD"),this.fetchExpenseAmount(),this.fetchSalesAmount(),this.fetchRemittances(this.from_date,this.to_date)},methods:{remitDtFormat:function(t){return u()(t).format("MMMM DD, YYYY hh:mm:ss A")},back:function(){this.$router.push("/")},toggleModal:function(){var t=this,e=document.querySelector("body");this.active=!this.active,this.active?e.classList.add("modal-open"):e.classList.remove("modal-open"),setTimeout((function(){return t.show=!t.show}),10)},openPortal:function(t){var e=this.$router.resolve({name:"REMITTANCE",query:{remit_id:t}});window.open(e.href,"_blank","height=500,width=800")},fetchRemittances:function(t,e){var s=this,o=a("bc3a");o.get("/api/getAllRemittances/?fdate="+t+"&tdate="+e).then((function(t){s.remittances=t.data.data})).catch((function(t){console.log(t)}))},fetchExpenseAmount:function(){var t=this,e=a("bc3a");e.get("/api/getAllExpenseAmount/").then((function(e){t.expense_amount=e.data.data})).catch((function(t){console.log(t)}))},fetchSalesAmount:function(){var t=this,e=a("bc3a");e.get("/api/getAllSalesAmount/").then((function(e){t.sales_amount=e.data.data})).catch((function(t){console.log(t)}))},addRemit:function(){var t=this;if(0!=t.totAmount&&0!=t.totSalesAmount){var e={cashier_id:t.$session.get("user_id"),expense_amount:t.totExAmount,sales_amount:t.totSalesAmount,remitted_amount:t.totAmount},s=[];t.denoms.forEach((function(e){s.push({remit_qty:t.money[e.id],remit_amount:e.amount,remit_total:e.amount*t.money[e.id]})}));var o=new Array({remittances:e,remittance_details:s.filter((function(t){return void 0!==t.remit_qty||!isNaN(t.remit_total)}))}),r=a("bc3a");r.post("/api/addRemittance/",o).then((function(a){console.log(a.data),a.data&&(e=[],s=[],t.money=[],t.fetchExpenseAmount(),t.fetchSalesAmount(),t.fetchRemittances(t.from_date,t.to_date),t.toggleModal())})).catch((function(t){console.log(t)}))}},cancelRemittance:function(t){var e=this,s=a("bc3a");confirm("Do you want to cancel Remittance ID# "+t)&&s.put("/api/cancelRemittance/",{remit_id:t}).then((function(){e.fetchExpenseAmount(),e.fetchSalesAmount(),e.fetchRemittances(e.from_date,e.to_date)})).catch((function(t){console.log(t)}))}},computed:{totAmount:function(){var t=this,e=0;return this.denoms.forEach((function(a){e+=isNaN(a.amount*t.money[a.id])?0:a.amount*t.money[a.id]})),e.toFixed(2)},totExAmount:function(){var t=0;return this.expense_amount.forEach((function(e){t+=parseFloat(e.total_amount)})),t.toFixed(2)},totSalesAmount:function(){var t=0;return this.sales_amount.forEach((function(e){t+=parseFloat(e.total_amount)})),t.toFixed(2)},toRemit:function(){return(this.totSalesAmount-this.totExAmount).toFixed(2)},grandTotal:function(){return(Number(this.totAmount)+Number(this.totExAmount)-Number(this.totSalesAmount)).toFixed(2)}}},Lt=Ut,zt=Object(_["a"])(Lt,Bt,Rt,!1,null,null,null),Qt=zt.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-10 mx-auto"},[a("div",{staticClass:"card fullheight rounded-0"},[a("div",{staticClass:"card-header bg-gradient p-0 pl-4 pr-4 pt-1"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.from_date,expression:"from_date"}],staticClass:"form-control form-control-sm mb-3 bg-transparent text-white rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"date",id:"from_date",placeholder:"Date"},domProps:{value:t.from_date},on:{input:function(e){e.target.composing||(t.from_date=e.target.value)}}}),a("label",{staticClass:"text-white",attrs:{for:"from_date"}},[t._v("From Date")])])]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.to_date,expression:"to_date"}],staticClass:"form-control form-control-sm mb-3 bg-transparent text-white rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"date",id:"to_date",placeholder:"Date"},domProps:{value:t.to_date},on:{input:function(e){e.target.composing||(t.to_date=e.target.value)}}}),a("label",{staticClass:"text-white",attrs:{for:"to_date"}},[t._v("To Date")])])]),a("div",{staticClass:"col-1 offset-5 mt-3"},[a("i",{staticClass:"fas fa-plus-circle fa-2x",staticStyle:{cursor:"pointer"},attrs:{title:"Add Purchase"},on:{click:function(e){t.toggleModal(),t.edit=!1}}})])])]),a("div",{staticClass:"card-body overflow-auto"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("table",{staticClass:"table text-center"},[t._m(0),t._l(t.expenses,(function(e){return a("tbody",{key:e.ex_id},[a("tr",{class:{"bg-warning":1==e.iscancel}},[a("td",[t._v(t._s(e.ex_id))]),a("td",[t._v(t._s(e.employee_fn+" "+e.employee_sn))]),a("td",[t._v("₱ "+t._s(e.total_amount))]),a("td",[t._v(t._s(e.expense_note))]),a("td",[t._v(t._s(t.expenseDtFormat(e.created_at)))]),a("td",{staticClass:"align-middle"},[a("i",{staticClass:"far fa-file",staticStyle:{cursor:"pointer"},on:{click:function(a){return t.openPortal(e.ex_id)}}})]),a("td",{staticClass:"align-middle"},[1!=e.iscancel?a("i",{staticClass:"fas fa-ban ml-2",staticStyle:{cursor:"pointer"},attrs:{title:"Click to Cancel Expense ID #"+e.ex_id},on:{click:function(a){return t.cancelExpense(e.ex_id)}}}):t._e()])])])}))],2)])]),a("div",{staticClass:"row item-bottom p-4"},[a("div",{staticClass:"col-6"},[a("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){return t.back()}}},[t._m(1)])])])])])]),a("div",{staticClass:"modal fade",class:{show:t.show,"d-block":t.active},attrs:{tabindex:"-1",role:"dialog",id:"addPurchase"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header bg-gradient"},[a("h5",{staticClass:"modal-title"},[t._v("Add Expense")]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.toggleModal}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.expense.created_at,expression:"expense.created_at"}],staticClass:"form-control form-control-sm mb-3 bg-transparent rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"datetime-local",id:"created_at",placeholder:"Date"},domProps:{value:t.expense.created_at},on:{input:function(e){e.target.composing||t.$set(t.expense,"created_at",e.target.value)}}}),a("label",{attrs:{for:"created_at"}},[t._v("Expense Date")])])]),a("div",{staticClass:"col-sm-12"},[a("label",{staticClass:"ml-2 font-weight-light",attrs:{for:"comment"}},[t._v("Comment:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.expense.expense_note,expression:"expense.expense_note"}],staticClass:"form-control form-control-sm rounded-0",attrs:{id:"comment",cols:"30",rows:"7",placeholder:"Optional"},domProps:{value:t.expense.expense_note},on:{input:function(e){e.target.composing||t.$set(t.expense,"expense_note",e.target.value)}}})]),a("hr"),a("div",{staticClass:"col-sm-6 mt-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.expense_details.particulars_id,expression:"expense_details.particulars_id"}],staticClass:"form-control mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{id:"particulars_id"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.expense_details,"particulars_id",e.target.multiple?a:a[0])},function(e){return t.fetchParticularsById()}]}},[a("option",{attrs:{disabled:"",value:"0"}},[t._v("Select Particulars")]),t._l(t.particulars,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.particulars_name))])}))],2)]),a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.expense_details.expense_amount,expression:"expense_details.expense_amount"}],staticClass:"form-control form-control-sm mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"number",id:"expense_amount",min:"0",placeholder:"Expense Amount"},domProps:{value:t.expense_details.expense_amount},on:{input:function(e){e.target.composing||t.$set(t.expense_details,"expense_amount",e.target.value)}}}),a("label",{attrs:{for:"expense_amount"}},[t._v("Expense Amount")])])]),a("div",{staticClass:"col-sm-6"},[a("button",{staticClass:"btn btn-info btn-block btn-sm rounded-0 mb-3",on:{click:t.addQueue}},[a("i",{staticClass:"fas fa-plus"}),t._v(" ADD")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("table",{staticClass:"table text-center"},[t._m(2),a("tbody",[t._l(t.dups,(function(e,s){return a("tr",{key:e.product_id},[a("td",[t._v(t._s(t.dups[s].particulars_name))]),a("td",[t._v("₱ "+t._s(parseFloat(t.dups[s].expense_amount).toFixed(2)))]),a("td",[a("i",{staticClass:"fa fa-trash ml-2",staticStyle:{cursor:"pointer"},attrs:{title:"Click to Delete "+t.dups[s].particulars_name},on:{click:function(e){return t.deleteQueue(s)}}})])])})),t._m(3),a("tr",[a("td",{staticClass:"float-right"},[t._v(t._s(0==t.expenseTotal?"":"Total: "))]),a("td",[t._v(t._s(0==t.expenseTotal?"":"₱ "+t.expenseTotal))]),a("td")])],2)])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.addExpense}},[t._v("Save changes")])])])])])])},Vt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("ID")]),a("th",[t._v("Cashier Name")]),a("th",[t._v("Total Expense")]),a("th",[t._v("Note")]),a("th",[t._v("Date")]),a("th",[t._v("View")]),a("th",[t._v("Action")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"float-left ml-2"},[a("i",{staticClass:"fas fa-arrow-left"}),t._v(" Back")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Particulars Name")]),a("th",[t._v("Amount")]),a("th",[t._v("Action")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{attrs:{colspan:"5"}},[a("hr")])])}],Gt={data:function(){return{msg:"",show:!1,active:!1,edit:!1,errors:[],suppliers:[],dups:[],particulars:[],queue_expense:[],expenses:[],expense:{total_amount:0,cashier_id:this.$session.get("user_id"),created_at:new Date,expense_note:""},from_date:new Date,to_date:new Date,expense_details:{particulars_id:0,expense_amount:0},page:1}},created:function(){this.expense.created_at=u()().format("YYYY-MM-DDTkk:mm"),this.from_date=u()().startOf("month").format("YYYY-MM-DD"),this.to_date=u()().endOf("month").format("YYYY-MM-DD"),this.fetchParticulars(),this.fetchExpenses()},computed:{expenseTotal:function(){var t=0;return this.dups.forEach((function(e){t+=parseFloat(e.expense_amount)})),t.toFixed(2)}},methods:{back:function(){this.$router.push("/")},expenseDtFormat:function(t){return u()(t).format("MMMM DD, YYYY hh:mm:ss A")},openPortal:function(t){var e=this.$router.resolve({name:"EXPENSE DETAILS",query:{expense_id:t}});window.open(e.href,"_blank","height=500,width=800")},toggleModal:function(){var t=this,e=document.querySelector("body");this.active=!this.active,this.active?e.classList.add("modal-open"):e.classList.remove("modal-open"),setTimeout((function(){return t.show=!t.show}),10)},fetchParticulars:function(){var t=this,e=a("bc3a");e.get("/api/getAllParticulars/").then((function(e){t.particulars=e.data.data})).catch((function(t){console.log(t)}))},fetchExpenses:function(){var t=this,e=a("bc3a");e.get("/api/getAllExpenses/?from_date="+this.from_date+"&to_date="+this.to_date).then((function(e){t.expenses=e.data.data})).catch((function(t){console.log(t)}))},fetchParticularsById:function(){var t=this,e=a("bc3a");e.get("/api/getAllParticularsById/?particulars_id="+t.expense_details.particulars_id).then((function(e){var a=e.data.data;a.forEach((function(e){t.expense_details.particulars_name=e.particulars_name}))})).catch((function(t){console.log(t)}))},addExpense:function(){var t=this;t.expense={total_amount:t.expenseTotal,cashier_id:t.$session.get("user_id"),created_at:new Date,expense_note:""};var e=new Array({expense:t.expense,expense_details:t.dups}),s=a("bc3a");s.post("/api/addExpense/",e).then((function(e){e.data&&(t.expense={total_amount:t.expenseTotal,cashier_id:t.$session.get("user_id"),created_at:u()(new Date).format("YYYY-MM-DDTkk:mm"),expense_note:""},t.expense_details={particulars_id:0,expense_amount:0},t.dups=[],t.toggleModal())})).catch((function(t){console.log(t)}))},cancelExpense:function(t){var e=this,s=a("bc3a");confirm("Are you sure to delete Expense ID#"+t)&&s.get("/api/cancelExpensesById/?expense_id="+t).then((function(){e.fetchExpenses()})).catch((function(t){console.log(t)}))},addQueue:function(){var t=this;t.expense_details.particulars_id>0&&t.queue_expense.push(Object(L["a"])({},t.expense_details)),t.queue_expense.filter((function(e,a){a===t.queue_expense.length-1&&-1==t.dups.map((function(t){return t.particulars_id})).indexOf(e.particulars_id)&&t.dups.push({particulars_id:e.particulars_id,particulars_name:e.particulars_name,expense_amount:e.expense_amount})}))},deleteQueue:function(t){this.dups.splice(t,1)}}},Xt=Gt,Wt=Object(_["a"])(Xt,Ht,Vt,!1,null,null,null),Jt=Wt.exports,Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"background-color":"#ffffff"}},[t._m(0),1==t.expense.iscancel?a("img",{staticStyle:{position:"absolute",width:"600px","z-index":"10"},attrs:{src:t.imgURL+"cancelled.png"}}):t._e(),a("div",{staticClass:"row mx-auto"},[a("div",{staticClass:"col-sm-6"},[a("strong",[t._v("Remitted By:")]),t._v(" "+t._s(t.expense.employee_fn+" "+t.expense.employee_sn))]),a("div",{staticClass:"col-sm-6"},[a("strong",[t._v("Date:")]),t._v(" "+t._s(t.expenseDtFormat(t.expense.created_at)))])]),a("br"),a("br"),a("div",{staticClass:"row mx-auto"},[a("div",{staticClass:"col-sm-12"},[a("table",{staticClass:"table"},[t._m(1),a("tbody",[t._l(t.expense_details,(function(e){return a("tr",{key:e.id,staticClass:"border-bottom"},[a("td",[t._v(t._s(e.particulars_name))]),a("td",[t._v("₱ "+t._s(e.expense_amount))])])})),a("tr",[a("td",{staticClass:"text-right font-weight-bold pr-3"},[t._v("Total:")]),a("td",[t._v("₱ "+t._s(t.totalExpenses))])])],2)])])]),t._m(2),t._m(3)])},Kt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mx-auto"},[a("div",{staticClass:"col-sm-12"},[a("h5",[t._v("Cabanatuan City, Nueva Ecija")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Particulars")]),a("th",[t._v("Amount")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mx-auto mt-4"},[a("div",{staticClass:"col-sm-4 signature"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mx-auto"},[a("div",{staticClass:"col-sm-4"},[t._v(" Checked By: ")])])}],te={data:function(){return{expense:[],expense_details:[],imgURL:"http://localhost/grocery/public/images/"}},created:function(){this.fetchExpenseDetails(),this.fetchExpenses()},computed:{totalExpenses:function(){var t=0;return this.expense_details.forEach((function(e){t+=parseFloat(e.expense_amount)})),t.toFixed(2)}},methods:{expenseDtFormat:function(t){return u()(t).format("MMMM DD, YYYY hh:mm:ss A")},fetchExpenses:function(){var t=this,e=a("bc3a");e.get("/api/getExpenseById/?expense_id="+t.$route.query.expense_id).then((function(e){t.expense=e.data[0]})).catch((function(t){console.log(t)}))},fetchExpenseDetails:function(){var t=this,e=a("bc3a");e.get("/api/getAllExpenseDetailsById/?expense_id="+t.$route.query.expense_id).then((function(e){t.expense_details=e.data.data})).catch((function(t){console.log(t)}))}}},ee=te,ae=Object(_["a"])(ee,Zt,Kt,!1,null,null,null),se=ae.exports,oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-10 mx-auto"},[a("div",{staticClass:"card fullheight rounded-0"},[a("div",{staticClass:"card-header bg-gradient p-0 pl-4 pr-4 pt-1"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.from_date,expression:"from_date"}],staticClass:"form-control form-control-sm mb-3 bg-transparent text-white rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"datetime-local",id:"from_date",placeholder:"Date"},domProps:{value:t.from_date},on:{input:[function(e){e.target.composing||(t.from_date=e.target.value)},function(e){return t.fetchSpoilages(t.from_date,t.to_date)}]}}),a("label",{staticClass:"text-white",attrs:{for:"from_date"}},[t._v("From Date")])])]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.to_date,expression:"to_date"}],staticClass:"form-control form-control-sm mb-3 bg-transparent text-white rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"datetime-local",id:"to_date",placeholder:"Date"},domProps:{value:t.to_date},on:{input:[function(e){e.target.composing||(t.to_date=e.target.value)},function(e){return t.fetchSpoilages(t.from_date,t.to_date)}]}}),a("label",{staticClass:"text-white",attrs:{for:"to_date"}},[t._v("To Date")])])]),a("div",{staticClass:"col-1 offset-5 mt-3"},[a("i",{staticClass:"fas fa-plus-circle fa-2x",staticStyle:{cursor:"pointer"},attrs:{title:"Add Purchase"},on:{click:function(e){t.toggleModal(),t.edit=!1}}})])])]),a("div",{staticClass:"card-body overflow-auto"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("table",{staticClass:"table table-striped text-center"},[t._m(0),a("tbody",t._l(t.spoilages,(function(e){return a("tr",{key:e.id,class:{"bg-warning":1==e.iscancel}},[a("td",{staticClass:"align-middle"},[t._v(t._s(e.id))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.employee_fn)+" "+t._s(e.employee_sn))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.spoilage_note))]),a("td",{staticClass:"align-middle"},[t._v(t._s(t.spoilageDtFormat(e.created_at)))]),a("td",{staticClass:"align-middle"},[a("i",{staticClass:"far fa-file",staticStyle:{cursor:"pointer"},on:{click:function(a){return t.openPortal(e.id)}}})]),a("td",{staticClass:"align-middle"},[1!=e.iscancel?a("i",{staticClass:"fas fa-ban ml-2",staticStyle:{cursor:"pointer"},attrs:{title:"Click to Cancel ID# "+e.id},on:{click:function(a){return t.cancelSpoilage(e.id)}}}):a("i",{staticClass:"fas fa-ban ml-2"})])])})),0)])])]),a("div",{staticClass:"row item-bottom p-4"},[a("div",{staticClass:"col-6"},[a("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){return t.back()}}},[t._m(1)])])])])])]),a("div",{staticClass:"modal fade",class:{show:t.show,"d-block":t.active},attrs:{tabindex:"-1",role:"dialog",id:"addSpoilage"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header bg-gradient"},[a("h5",{staticClass:"modal-title"},[t._v("Add Spoilage")]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.toggleModal}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.spoilage.created_at,expression:"spoilage.created_at"}],staticClass:"form-control form-control-sm mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"datetime-local",id:"created_at",placeholder:"Date"},domProps:{value:t.spoilage.created_at},on:{input:function(e){e.target.composing||t.$set(t.spoilage,"created_at",e.target.value)}}}),a("label",{attrs:{for:"created_at"}},[t._v("Date")])])]),a("div",{staticClass:"col-sm-12"},[a("label",{staticClass:"ml-2 font-weight-light",attrs:{for:"comment"}},[t._v("Comment:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.spoilage.spoilage_note,expression:"spoilage.spoilage_note"}],staticClass:"form-control form-control-sm rounded-0",attrs:{id:"comment",cols:"30",rows:"7",placeholder:"Optional"},domProps:{value:t.spoilage.spoilage_note},on:{input:function(e){e.target.composing||t.$set(t.spoilage,"spoilage_note",e.target.value)}}})]),a("hr"),a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.spoilage_product.search_product,expression:"spoilage_product.search_product"}],staticClass:"form-control form-control-sm mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"text",id:"search_product",placeholder:"Search Product"},domProps:{value:t.spoilage_product.search_product},on:{input:[function(e){e.target.composing||t.$set(t.spoilage_product,"search_product",e.target.value)},function(e){return t.fetchProducts(e.target.value)}]}}),a("label",{attrs:{for:"search_product"}},[t._v("Search Product")])])]),a("div",{staticClass:"col-6 p-2"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.spoilage_product.product_id,expression:"spoilage_product.product_id"}],staticClass:"form-control mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{id:"product_id"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.spoilage_product,"product_id",e.target.multiple?a:a[0])},function(e){return t.fetchProductById()}]}},[a("option",{attrs:{disabled:"",value:"0"}},[t._v("Select Product")]),t._l(t.products,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s("("+e.stock_qty+") "+e.product_name))])}))],2)]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.spoilage_product.spoilage_qty,expression:"spoilage_product.spoilage_qty"}],staticClass:"form-control form-control-sm mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"number",id:"spoilage_qty",min:"1",max:t.max_stock,placeholder:"Quantity"},domProps:{value:t.spoilage_product.spoilage_qty},on:{input:[function(e){e.target.composing||t.$set(t.spoilage_product,"spoilage_qty",e.target.value)},t.maxInput]}}),a("label",{attrs:{for:"spoilage_qty"}},[t._v("Quantity")])])]),a("div",{staticClass:"col-6"},[a("button",{staticClass:"btn btn-info btn-block item-bottom btn-sm rounded-0 mb-3",on:{click:t.addQueue}},[a("i",{staticClass:"fas fa-plus"}),t._v(" ADD")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("table",{staticClass:"table text-center"},[t._m(2),a("tbody",[t._l(t.dups,(function(e,s){return a("tr",{key:e.product_id},[a("td",[t._v(t._s(t.dups[s].product_name))]),a("td",[t._v(t._s(t.dups[s].spoilage_qty))]),a("td",[a("i",{staticClass:"fa fa-trash ml-2",staticStyle:{cursor:"pointer"},attrs:{title:"Click to Delete "+t.dups[s].product_name},on:{click:function(e){return t.deleteQueue(s)}}})])])})),t._m(3),a("tr",[a("td",{attrs:{colspan:"2"}}),a("td",{staticClass:"float-right"},[t._v(t._s(0==t.spoilageTotal?"":"Total: "))]),a("td",[t._v(t._s(0==t.spoilageTotal?"":"₱ "+t.spoilageTotal))]),a("td")])],2)])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[t.msg?a("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v(" "+t._s(t.msg)+" ")]):t._e()])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.addSpoilage}},[t._v("Save changes")])])])])])])},re=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("ID")]),a("th",[t._v("Cashier")]),a("th",[t._v("Note")]),a("th",[t._v("Date")]),a("th",[t._v("View")]),a("th",[t._v("Action")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"float-left ml-2"},[a("i",{staticClass:"fas fa-arrow-left"}),t._v(" Back")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Product Name")]),a("th",[t._v("Quantity")]),a("th",[t._v("Action")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{attrs:{colspan:"5"}},[a("hr")])])}],ie={data:function(){return{msg:"",show:!1,active:!1,edit:!1,errors:[],spoilages:[],products:[],suppliers:[],queue_spoilage:[],dups:[],max_stock:0,spoilage:{cashier_id:this.$session.get("user_id"),created_at:new Date,spoilage_note:""},from_date:new Date,to_date:new Date,spoilage_product:{product_id:0,product_name:"",spoilage_qty:1,unit_price:0},page:1}},created:function(){this.spoilage.created_at=u()().format("YYYY-MM-DDThh:mm"),this.from_date=u()().startOf("month").format("YYYY-MM-DDThh:mm"),this.to_date=u()().endOf("month").format("YYYY-MM-DDTkk:mm"),this.fetchProducts(),this.fetchSpoilages(this.from_date,this.to_date)},computed:{spoilageTotal:function(){var t=0;return this.dups.forEach((function(e){t+=parseFloat(e.spoilage_qty*e.unit_price)})),t.toFixed(2)},validDr:function(){return this.purchase.drnum.length<=1},validSupplier:function(){return 0==this.purchase.supplier_id}},methods:{back:function(){this.$router.push("/")},spoilageDtFormat:function(t){return u()(t).format("MMMM DD, YYYY hh:mm:ss A")},openPortal:function(t){var e=this.$router.resolve({name:"PSPOILAGE",query:{spoilage_id:t}});window.open(e.href,"_blank","height=500,width=800")},toggleModal:function(){var t=this,e=document.querySelector("body");this.active=!this.active,this.active?e.classList.add("modal-open"):e.classList.remove("modal-open"),setTimeout((function(){return t.show=!t.show}),10)},maxInput:function(t){var e=this,a=parseInt(t.target.value),s=parseInt(t.target.min),o=parseInt(t.target.max);return a<s||Number.isNaN(a)?e.spoilage_product.spoilage_qty=0:e.spoilage_product.spoilage_qty=a>o?o:a},fetchProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this,s=a("bc3a");e.timer&&(clearTimeout(e.timer),e.timer=null),e.timer=setTimeout((function(){s.get("/api/searchProductInventories/?product_name="+t).then((function(t){var a=t.data.data;e.products=a.filter((function(t){return 0!=t.stock_qty}))})).catch((function(t){console.log(t)}))}),500)},fetchSpoilages:function(t,e){var s=this,o=a("bc3a");o.get("/api/getAllSpoilages/?from_date="+t+"&to_date="+e).then((function(t){s.spoilages=t.data.data})).catch((function(t){console.log(t)}))},fetchProductById:function(){var t=this,e=a("bc3a");e.get("/api/getProductInventoriesById/?product_id="+t.spoilage_product.product_id).then((function(e){var a=e.data.data;a.forEach((function(e){t.spoilage_product.product_name=e.product_name,t.max_stock=e.stock_qty}))})).catch((function(t){console.log(t)}))},addSpoilage:function(){var t=this,e=new Array({spoilage:t.spoilage,spoilage_product:t.dups}),s=a("bc3a");s.post("/api/addSpoilage/",e).then((function(e){console.log(e.data),e.data&&(t.spoilage={cashier_id:t.$session.get("user_id"),created_at:u()(new Date).format("YYYY-MM-DDThh:mm"),spoilage_note:""},t.spoilage_product={product_id:0,product_name:"",spoilage_qty:1,unit_price:0},t.dups=[],t.toggleModal(),t.fetchProducts(),t.fetchSpoilages(t.from_date,t.to_date))})).catch((function(t){console.log(t)}))},cancelSpoilage:function(t){var e=this,s=a("bc3a");confirm("Do you want to cancel spoilage ID# "+t)&&s.put("/api/cancelSpoilageById/",{spoilage_id:t}).then((function(){e.fetchProducts(),e.fetchSpoilages(e.from_date,e.to_date)})).catch((function(t){console.log(t)}))},addQueue:function(){var t=this;0!=t.spoilage_product.product_id&&t.queue_spoilage.push(Object(L["a"])({},this.spoilage_product)),t.queue_spoilage.filter((function(e,a){a===t.queue_spoilage.length-1&&-1==t.dups.map((function(t){return t.product_id})).indexOf(e.product_id)&&t.dups.push({product_id:e.product_id,product_name:e.product_name,spoilage_qty:e.spoilage_qty,unit_price:e.unit_price})}))},deleteQueue:function(t){this.dups.splice(t,1)}}},ne=ie,le=Object(_["a"])(ne,oe,re,!1,null,null,null),ce=le.exports,de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-2"},[a("div",{staticClass:"card fullheight rounded-0",staticStyle:{overflow:"auto"}},[t._m(0),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},t._l(t.menus,(function(e,s){return a("div",{key:e.id,staticClass:"col-12 mb-2",attrs:{value:e.id}},[a("button",{staticClass:"btn btn-block btn-outline-dark rounded-0",class:{active:null!==t.selectedMenu?e.id==t.selectedMenu:0===s},on:{click:function(a){t.selectedMenu=e.id,t.headerName=e.menu_name,3==t.selectedMenu?t.flush():t.fetchEmployeesById(t.$session.get("user_id")),3==t.selectedMenu?t.edit=!0:t.edit=!1}}},[t._v(t._s(e.menu_name))])])})),0)])]),a("button",{staticClass:"btn btn-primary text-white btn-block sticky-bottom btn-lg rounded-0",on:{click:function(e){return t.back()}}},[t._m(1)])]),a("div",{staticClass:"col-sm-10"},[a("div",{staticClass:"card fullheight rounded-0",staticStyle:{overflow:"auto"}},[a("div",{staticClass:"card-header bg-gradient text-white rounded-0 p-3"},[a("div",{staticClass:"col-sm-2"},[a("h5",[t._v(t._s(t.headerName))])])]),a("div",{staticClass:"card-body"},[null===t.selectedMenu||1==t.selectedMenu||3==t.selectedMenu?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.employee.employee_fn,expression:"employee.employee_fn"}],staticClass:"form-control form-control-sm bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",class:{"is-invalid":t.errors.employee_fn},attrs:{type:"text",id:"fn",placeholder:"First Name"},domProps:{value:t.employee.employee_fn},on:{input:function(e){e.target.composing||t.$set(t.employee,"employee_fn",e.target.value)}}}),a("label",{attrs:{for:"fn"}},[t._v("First Name")]),t.errors.employee_fn?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.employee_fn))]):t._e()])]),a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.employee.employee_mn,expression:"employee.employee_mn"}],staticClass:"form-control form-control-sm bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",attrs:{type:"text",id:"mn",placeholder:"Maiden Name (optional)"},domProps:{value:t.employee.employee_mn},on:{input:function(e){e.target.composing||t.$set(t.employee,"employee_mn",e.target.value)}}}),a("label",{attrs:{for:"mn"}},[t._v("Maiden Name (optional)")])])]),a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.employee.employee_sn,expression:"employee.employee_sn"}],staticClass:"form-control form-control-sm bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",class:{"is-invalid":t.errors.employee_sn},attrs:{type:"text",id:"sn",placeholder:"Surname"},domProps:{value:t.employee.employee_sn},on:{input:function(e){e.target.composing||t.$set(t.employee,"employee_sn",e.target.value)}}}),a("label",{attrs:{for:"sn"}},[t._v("Surname")]),t.errors.employee_sn?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.employee_sn))]):t._e()])]),a("div",{staticClass:"col-sm-4"},[t._m(2),a("select",{directives:[{name:"model",rawName:"v-model",value:t.employee.employee_prov,expression:"employee.employee_prov"}],staticClass:"form-control form-control-sm rounded-0 bg-transparent border-top-0 border-left-0 border-right-0",class:{"is-invalid":t.errors.employee_prov},on:{input:function(e){t.fetchCityMuns(e.target.value),t.citymuns=[],t.brgys=[]},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.employee,"employee_prov",e.target.multiple?a:a[0])}}},[a("option",{staticClass:"text-dark",attrs:{value:"0",disabled:""}},[t._v("Select Province")]),t._l(t.provinces,(function(e){return a("option",{key:e.id,staticClass:"text-dark",domProps:{value:e.provCode}},[t._v(t._s(e.provDesc))])}))],2),t.errors.employee_prov?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.employee_prov))]):t._e()]),a("div",{staticClass:"col-sm-4"},[t._m(3),a("select",{directives:[{name:"model",rawName:"v-model",value:t.employee.employee_citymun,expression:"employee.employee_citymun"}],staticClass:"form-control form-control-sm rounded-0 bg-transparent border-top-0 border-left-0 border-right-0",class:{"is-invalid":t.errors.employee_citymun},on:{input:function(e){t.fetchBrgys(e.target.value),t.brgys=[]},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.employee,"employee_citymun",e.target.multiple?a:a[0])}}},[a("option",{staticClass:"text-dark",attrs:{value:"0",disabled:""}},[t._v("Select City")]),t._l(t.citymuns,(function(e){return a("option",{key:e.id,staticClass:"text-dark",domProps:{value:e.citymunCode}},[t._v(t._s(e.citymunDesc))])}))],2),t.errors.employee_citymun?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.employee_citymun))]):t._e()]),a("div",{staticClass:"col-sm-4"},[t._m(4),a("select",{directives:[{name:"model",rawName:"v-model",value:t.employee.employee_brgy,expression:"employee.employee_brgy"}],staticClass:"form-control form-control-sm rounded-0 bg-transparent border-top-0 border-left-0 border-right-0",class:{"is-invalid":t.errors.employee_brgy},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.employee,"employee_brgy",e.target.multiple?a:a[0])}}},[a("option",{staticClass:"text-dark",attrs:{value:"0",disabled:""}},[t._v("Select Baranggay")]),t._l(t.brgys,(function(e){return a("option",{key:e.brgyCode,staticClass:"text-dark",domProps:{value:e.brgyCode}},[t._v(t._s(e.brgyDesc))])}))],2),t.errors.employee_brgy?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.employee_brgy))]):t._e()]),a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.employee.employee_phone,expression:"employee.employee_phone"}],staticClass:"form-control form-control-sm bg-transparent rounded-0 border-top-0 border-left-0 border-right-0 mt-3",class:{"is-invalid":t.errors.employee_phone},attrs:{type:"number",id:"phone",placeholder:"Contact #"},domProps:{value:t.employee.employee_phone},on:{input:function(e){e.target.composing||t.$set(t.employee,"employee_phone",e.target.value)}}}),a("label",{attrs:{for:"phone"}},[t._v("Contact #")]),t.errors.employee_phone?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.employee_phone))]):t._e()])]),a("div",{staticClass:"col-sm-6 mt-3"},[t.msg?a("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v(" "+t._s(t.msg)+" ")]):t._e()]),a("div",{staticClass:"col-sm-2 mt-4"},[a("button",{staticClass:"btn btn-sm btn-block btn-outline-info",on:{click:t.updateAccount}},[t._v("Save")])])]):t._e(),2==t.selectedMenu?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oldPass,expression:"oldPass"}],staticClass:"form-control form-control-sm bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",attrs:{type:"password",id:"cp",placeholder:"Current Password"},domProps:{value:t.oldPass},on:{input:function(e){e.target.composing||(t.oldPass=e.target.value)}}}),a("label",{attrs:{for:"cp"}},[t._v("Current Password")]),t.errors.oldPass?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.oldPass))]):t._e()])]),a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPass,expression:"newPass"}],staticClass:"form-control form-control-sm bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",attrs:{type:"password",id:"np",placeholder:"Enter New Password"},domProps:{value:t.newPass},on:{input:function(e){e.target.composing||(t.newPass=e.target.value)}}}),a("label",{attrs:{for:"np"}},[t._v("Enter New Password")]),t.errors.newPass?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.newPass))]):t._e()])]),a("div",{staticClass:"col-sm-4"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPass,expression:"confirmPass"}],staticClass:"form-control form-control-sm bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",attrs:{type:"password",id:"cnp",placeholder:"Confirm New Password"},domProps:{value:t.confirmPass},on:{input:function(e){e.target.composing||(t.confirmPass=e.target.value)}}}),a("label",{attrs:{for:"cnp"}},[t._v("Confirm New Password")]),t.errors.confirmPass?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.confirmPass))]):t._e()])]),a("div",{staticClass:"col-sm-6 mt-3"},[t.msgpass?a("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v(" "+t._s(t.msgpass)+" ")]):t._e()]),a("div",{staticClass:"col-sm-2 offset-sm-4 mt-3"},[a("button",{staticClass:"btn btn-sm btn-outline-info btn-block",on:{click:t.changePass}},[t._v("Save")])])]):t._e(),3==t.selectedMenu?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("table",{staticClass:"table table-sm text-center"},[t._m(5),t._l(t.emps,(function(e){return a("tbody",{key:e.id},[a("tr",[a("td",[t._v(t._s(e.employee_fn+" "+e.employee_sn))]),a("td",[t._v(t._s(e.employee_phone))]),a("td",[t._v(t._s(e.brgyDesc+", "+e.citymunDesc+" "+e.provDesc))]),a("td",[a("i",{staticClass:"fa fa-edit mr-2",staticStyle:{cursor:"pointer"},attrs:{title:"Click to Edit "+e.employee_fn+" "+e.employee_sn},on:{click:function(a){return t.editEmployee(e)}}})])])])}))],2)])]):t._e(),4==t.selectedMenu?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4 mt-3"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.customer_name,expression:"customer.customer_name"}],staticClass:"form-control form-control-sm bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",class:{"is-invalid":t.errors.customer_name},attrs:{type:"text",id:"cusname",placeholder:"Customer Name"},domProps:{value:t.customer.customer_name},on:{input:function(e){e.target.composing||t.$set(t.customer,"customer_name",e.target.value)}}}),a("label",{attrs:{for:"cusname"}},[t._v("Customer Name")]),t.errors.customer_name?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.customer_name))]):t._e()])]),a("div",{staticClass:"col-sm-4 mt-3"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.customer.customer_phone,expression:"customer.customer_phone"}],staticClass:"form-control form-control-sm bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",class:{"is-invalid":t.errors.customer_phone},attrs:{type:"number",id:"cph",placeholder:"Customer Contact#"},domProps:{value:t.customer.customer_phone},on:{input:function(e){e.target.composing||t.$set(t.customer,"customer_phone",e.target.value)}}}),a("label",{attrs:{for:"cph"}},[t._v("Customer Contact#")]),t.errors.customer_phone?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.customer_phone))]):t._e()])]),a("div",{staticClass:"col-sm-4"},[t._m(6),a("select",{directives:[{name:"model",rawName:"v-model",value:t.customer.customer_status,expression:"customer.customer_status"}],staticClass:"form-control form-control-sm rounded-0 bg-transparent border-top-0 border-left-0 border-right-0",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.customer,"customer_status",e.target.multiple?a:a[0])}}},[a("option",{staticClass:"text-dark",attrs:{value:"1"}},[t._v("Active")]),a("option",{staticClass:"text-dark",attrs:{value:"2"}},[t._v("Inactive")])])]),a("div",{staticClass:"col-sm-6 mt-3"},[t.msg?a("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v(" "+t._s(t.msg)+" ")]):t._e()]),a("div",{staticClass:"col-sm-2 offset-sm-4 mt-3 mb-3"},[a("button",{staticClass:"btn btn-sm btn-outline-info btn-block",on:{click:t.addCustomer}},[t._v("Save")])]),a("div",{staticClass:"col-sm-12"},[a("table",{staticClass:"table table-sm text-center"},[t._m(7),t._l(t.custs,(function(e){return a("tbody",{key:e.id},[a("tr",[a("td",[t._v(t._s(e.customer_name))]),a("td",[t._v(t._s(e.customer_phone))]),a("td",[t._v(t._s(e.customer_status))]),a("td",[1!=e.id?a("i",{staticClass:"fa fa-edit mr-2",staticStyle:{cursor:"pointer"},attrs:{title:"Click to Edit "+e.customer_name},on:{click:function(a){return t.editCustomer(e)}}}):t._e()])])])}))],2)])]):t._e(),5==t.selectedMenu?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-3"},[t._m(8),a("select",{directives:[{name:"model",rawName:"v-model",value:t.user.employee_id,expression:"user.employee_id"}],staticClass:"form-control form-control-sm rounded-0 bg-transparent border-top-0 border-left-0 border-right-0",class:{"is-invalid":t.errors.employee_id},attrs:{id:"user-emp"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"employee_id",e.target.multiple?a:a[0])}}},[a("option",{staticClass:"text-dark",attrs:{value:"0",disabled:""}},[t._v("Select Employee")]),t._l(t.emp_users,(function(e){return a("option",{key:e.id,staticClass:"text-dark",domProps:{value:e.id}},[t._v(t._s(e.employee_fn+" "+e.employee_sn))])}))],2),t.errors.employee_id?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.employee_id))]):t._e()]),a("div",{staticClass:"col-sm-3 mt-3"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control form-control-sm bg-transparent rounded-0 border-top-0 border-left-0 border-right-0",class:{"is-invalid":t.errors.username},attrs:{type:"text",id:"usernames",placeholder:"Username"},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),a("label",{attrs:{for:"usernames"}},[t._v("Username")]),t.errors.username?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.username))]):t._e()])]),a("div",{staticClass:"col-sm-3"},[t._m(9),a("select",{directives:[{name:"model",rawName:"v-model",value:t.user.user_status,expression:"user.user_status"}],staticClass:"form-control form-control-sm rounded-0 bg-transparent border-top-0 border-left-0 border-right-0",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"user_status",e.target.multiple?a:a[0])}}},[a("option",{staticClass:"text-dark",attrs:{value:"1"}},[t._v("Active")]),a("option",{staticClass:"text-dark",attrs:{value:"2"}},[t._v("Inactive")])])]),a("div",{staticClass:"col-sm-3"},[t._m(10),a("select",{directives:[{name:"model",rawName:"v-model",value:t.user.user_approval,expression:"user.user_approval"}],staticClass:"form-control form-control-sm rounded-0 bg-transparent border-top-0 border-left-0 border-right-0",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"user_approval",e.target.multiple?a:a[0])}}},[a("option",{staticClass:"text-dark",attrs:{value:"1"}},[t._v("Cashier")]),a("option",{staticClass:"text-dark",attrs:{value:"2"}},[t._v("Manager")])])]),a("div",{staticClass:"col-sm-10 mt-3"},[t.msguser?a("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v(" "+t._s(t.msguser)+" ")]):t._e()]),a("div",{staticClass:"col-sm-2 mt-3"},[a("button",{staticClass:"btn btn-sm btn-outline-info btn-block",on:{click:t.addUser}},[t._v("Save")])]),a("div",{staticClass:"col-sm-12"},[a("table",{staticClass:"table table-sm text-center"},[t._m(11),t._l(t.usr,(function(e){return a("tbody",{key:e.id},[a("tr",[a("td",[t._v(t._s(e.employee_fn+" "+e.employee_sn))]),a("td",[t._v(t._s(e.username))]),a("td",[t._v(t._s(e.user_approval))]),a("td",[t._v(t._s(e.user_status))])])])}))],2)])]):t._e()])])])])},ue=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header bg-gradient text-white rounded-0 p-3"},[a("h5",[t._v("Settings Menus")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"float-left ml-2"},[a("i",{staticClass:"fas fa-arrow-left"}),t._v(" Back")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"ml-4 text-muted",attrs:{for:""}},[a("small",[t._v("Province")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"ml-4 text-muted",attrs:{for:""}},[a("small",[t._v("City/Municipality")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"ml-4 text-muted",attrs:{for:""}},[a("small",[t._v("Barangay")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Employee Name")]),a("th",[t._v("Contact#")]),a("th",[t._v("Address")]),a("th",[t._v("Update")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"ml-4 text-muted",attrs:{for:""}},[a("small",[t._v("Status")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Customer Name")]),a("th",[t._v("Contact#")]),a("th",[t._v("Status")]),a("th",[t._v("Update")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"ml-4 text-muted",attrs:{for:"user-emp"}},[a("small",[t._v("Employees")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"ml-4 text-muted",attrs:{for:""}},[a("small",[t._v("Status")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"ml-4 text-muted",attrs:{for:""}},[a("small",[t._v("Account Approval")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Employee Name")]),a("th",[t._v("Username")]),a("th",[t._v("Approval")]),a("th",[t._v("Status")])])])}],me={data:function(){return{menus:[{id:1,menu_name:"My Account"},{id:2,menu_name:"Change Password"},{id:3,menu_name:"Employees"},{id:4,menu_name:"Customers"},{id:5,menu_name:"Users"},{id:6,menu_name:"Printer Settings"}],headerName:"My Account",selectedMenu:null,employee:{id:this.$session.get("user_id"),employee_fn:"",employee_mn:"",employee_sn:"",employee_prov:0,employee_citymun:0,employee_brgy:0,employee_phone:0},user:{employee_id:0,username:"",user_approval:1,user_status:1},customer:{customer_name:"",customer_phone:"",customer_status:1},provinces:[],citymuns:[],brgys:[],errors:[],edit:!1,edit_customer:!1,msg:!1,msgpass:!1,msguser:!1,oldPass:"",newPass:"",confirmPass:"",emps:[],custs:[],emp_users:[],usr:[]}},mounted:function(){if("cashier"==this.$session.get("user_approval"))for(var t=[4,5],e=t.length-1;e>=0;e--)this.menus.splice(t[e],1)},created:function(){this.fetchProvinces(),this.fetchEmployeesById(this.$session.get("user_id")),this.fetchEmployees(),this.fetchCustomers(),this.fetchEmployeesWithoutUser(),this.fetchUsers()},methods:{back:function(){this.$router.push("/")},flush:function(){this.employee={id:this.$session.get("user_id"),employee_fn:"",employee_mn:"",employee_sn:"",employee_prov:0,employee_citymun:0,employee_brgy:0,employee_phone:0}},validFName:function(){return this.employee.employee_fn.length<=1},validSName:function(){return this.employee.employee_sn.length<=1},validContact:function(){return this.employee.employee_phone.length<=5||0==this.employee.employee_phone},validProvince:function(){return 0==this.employee.employee_prov},validCity:function(){return 0==this.employee.employee_citymun},validBarangay:function(){return 0==this.employee.employee_brgy},validCurrentPass:function(){return""==this.oldPass||this.oldPass.length<5},validNewPass:function(){return""==this.newPass||this.newPass.length<5},validCNewPass:function(){return""==this.confirmPass||this.oldPass.length<5},validSamePass:function(){return this.newPass!=this.confirmPass},validCusName:function(){return this.customer.customer_name.length<=1},validCusNum:function(){return this.customer.customer_phone.length<=5||0==this.customer.customer_phone},validUsername:function(){return this.user.username.length<=3},validEmployee:function(){return 0==this.user.employee_id},fetchEmployeesById:function(t){var e=this;Yt.a.get("/api/getEmployeesById/?status=active&id="+t).then((function(t){var a=t.data.data;a.forEach((function(t){e.employee.employee_fn=t.employee_fn,e.employee.employee_mn=t.employee_mn,e.employee.employee_sn=t.employee_sn,e.employee.employee_prov=t.employee_prov,e.employee.employee_citymun=t.employee_citymun,e.employee.employee_brgy=t.employee_brgy,e.employee.employee_phone=t.employee_phone})),e.fetchCityMuns(e.employee.employee_prov),e.fetchBrgys(e.employee.employee_citymun)})).catch((function(t){console.log(t)}))},fetchEmployees:function(){var t=this;Yt.a.get("/api/getAllEmployees/?status=active&id="+t.$session.get("user_id")).then((function(e){t.emps=e.data.data})).catch((function(t){console.log(t)}))},fetchEmployeesWithoutUser:function(){var t=this;Yt.a.get("/api/getAllEmployeesWithoutUser/?id="+t.$session.get("user_id")).then((function(e){t.emp_users=e.data.data})).catch((function(t){console.log(t)}))},fetchCustomers:function(){var t=this;Yt.a.get("/api/getAllCustomers/?customer_status=").then((function(e){t.custs=e.data.data})).catch((function(t){console.log(t)}))},fetchProvinces:function(){var t=this;Yt.a.get("/api/getAllProvinces/").then((function(e){t.provinces=e.data.data})).catch((function(t){console.log(t)}))},fetchCityMuns:function(t){var e=this;Yt.a.get("/api/getCityMun/?provCode="+t).then((function(t){e.citymuns=t.data.data})).catch((function(t){console.log(t)}))},fetchBrgys:function(t){var e=this;Yt.a.get("/api/getBarangay/?citymunCode="+t).then((function(t){e.brgys=t.data.data})).catch((function(t){console.log(t)}))},updateAccount:function(){var t=this;t.errors=[],t.validSName()&&(t.errors.employee_sn="Please input your Surname."),t.validFName()&&(t.errors.employee_fn="Please input your Firstname."),t.validProvince()&&(t.errors.employee_prov="Please Select Province."),t.validCity()&&(t.errors.employee_citymun="Please Select City."),t.validBarangay()&&(t.errors.employee_brgy="Please Select Barangay."),t.validContact()&&(t.errors.employee_phone="Please input your Contact."),t.validSName()||t.validFName()||t.validCity()||t.validBarangay()||t.validContact()||t.validProvince()||(1==t.edit?Yt.a.post("/api/addEmployee/",t.employee).then((function(){t.msg="Employee Added Successfully!",t.fetchEmployees(),setTimeout((function(){t.msg=!1}),3e3)})).catch((function(t){console.log(t)})):Yt.a.put("/api/addEmployee/",t.employee).then((function(){t.msg="Employee Updated Successfully!",t.fetchEmployees(),setTimeout((function(){t.msg=!1}),3e3)})).catch((function(t){console.log(t)})))},changePass:function(){var t=this;t.errors=[],t.validCurrentPass()&&(t.errors.oldPass="Please input current password more than 5 characters."),t.validNewPass()&&(t.errors.newPass="Please input new password more than 5 characters."),t.validSamePass()&&(t.errors.newPass="Password Not Match."),t.validCNewPass()&&(t.errors.confirmPass="Please input new password more than 5 characters."),t.validCurrentPass()||t.validNewPass()||t.validCNewPass()||t.validSamePass()||Yt.a.put("/api/updateUserPassword/",{oldpass:t.oldPass,newpass:t.newPass,id:t.$session.get("user_id")}).then((function(){t.oldPass="",t.newPass="",t.confirmPass="",t.msgpass="Password updated successfully!!",setTimeout((function(){t.msgpass=!1}),3e3)})).catch((function(t){console.log(t)}))},editEmployee:function(t){var e=this;e.edit=!1,e.employee.id=t.id,e.employee.employee_fn=t.employee_fn,e.employee.employee_mn=t.employee_mn,e.employee.employee_sn=t.employee_sn,e.employee.employee_prov=t.employee_prov,e.employee.employee_citymun=t.employee_citymun,e.employee.employee_brgy=t.employee_brgy,e.employee.employee_phone=t.employee_phone,e.fetchCityMuns(t.employee_prov),e.fetchBrgys(t.employee_citymun)},addCustomer:function(){var t=this;t.errors=[],t.validCusName()&&(t.errors.customer_name="Please Customer name."),t.validCusNum()&&(t.errors.customer_phone="Please Input Customer Phone Number."),t.validCusName()||t.validCusNum()||(1==t.edit?Yt.a.post("/api/addCustomer/",t.customer).then((function(){t.msg="Customer Added Successfully!",t.fetchCustomers(),setTimeout((function(){t.msg=!1}),3e3)})).catch((function(t){console.log(t)})):Yt.a.put("/api/addCustomer/",t.customer).then((function(){t.msg="Customer Updated Successfully!",t.fetchCustomers(),setTimeout((function(){t.msg=!1}),3e3)})).catch((function(t){console.log(t)})))},editCustomer:function(t){var e=this;e.edit_customer=!1,e.customer.id=t.id,e.customer.customer_name=t.customer_name,e.customer.customer_phone=t.customer_phone,e.customer.customer_status="active"==t.customer_status?1:2},addUser:function(){var t=this;t.errors=[],t.validUsername()&&(t.errors.username="Please input username."),t.validEmployee()&&(t.errors.employee_id="Please select employee."),t.validUsername()||t.validEmployee()||Yt.a.post("/api/addUser/",t.user).then((function(e){t.msguser=e.data.msg,t.fetchEmployeesWithoutUser(),t.fetchUsers(),t.user={employee_id:0,username:"",user_approval:1,user_status:1},setTimeout((function(){t.msguser=!1}),3e3)})).catch((function(t){console.log(t)}))},fetchUsers:function(){var t=this;Yt.a.get("/api/getAllUsers/").then((function(e){t.usr=e.data.data})).catch((function(t){console.log(t)}))}}},pe=me,_e=Object(_["a"])(pe,de,ue,!1,null,null,null),ve=_e.exports,fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-10 mx-auto"},[a("div",{staticClass:"card fullheight rounded-0"},[a("div",{staticClass:"card-header bg-gradient p-0 pl-4 pr-4 pt-1"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-5"},[a("div",{staticClass:"form-label-group"},[a("input",{staticClass:"form-control form-control-sm mb-3 bg-transparent text-white rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"text",id:"searchSupplier",placeholder:"Search Product"},on:{keyup:function(e){return t.searchSupplier(e.target.value)}}}),a("label",{staticClass:"text-white",attrs:{for:"searchSupplier"}},[t._v("Search Supplier")])])]),a("div",{staticClass:"col-1 offset-6 mt-3"},[a("i",{staticClass:"fas fa-plus-circle fa-2x",staticStyle:{cursor:"pointer"},attrs:{title:"Add Suppliers"},on:{click:function(e){t.toggleModal(),t.edit=!1}}})])])]),a("div",{staticClass:"card-body overflow-auto"},[a("form",{attrs:{method:"POST",enctype:"multipart/form-data"}},[a("table",{staticClass:"table table-striped"},[t._m(0),""==t.suppliers?a("tbody",[t._m(1)]):a("tbody",t._l(t.suppliers,(function(e){return a("tr",{key:e.id,staticClass:"text-center"},[a("td",{staticClass:"align-middle"},[t._v(t._s(e.supplier_name))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.supplier_phone))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.brgyDesc+", "+e.citymunDesc+", "+e.provDesc))]),a("td",{staticClass:"align-middle"},[a("i",{staticClass:"fa fa-edit mr-2",staticStyle:{cursor:"pointer"},attrs:{title:"Click to Edit "+e.supplier_name},on:{click:function(a){return t.editSupplier(e)}}}),a("i",{staticClass:"fa fa-trash ml-2",staticStyle:{cursor:"pointer"},attrs:{title:"Click to Delete "+e.supplier_name},on:{click:function(a){return t.deleteSupplier(e.id,e.supplier_name)}}})])])})),0)])]),a("hr"),a("div",{staticClass:"row item-bottom p-4"},[a("div",{staticClass:"col-6"},[a("button",{staticClass:"btn btn-sm btn-primary",on:{click:function(e){return t.back()}}},[t._m(2)])]),a("div",{staticClass:"col-6"},[a("nav",{attrs:{"aria-label":"Page navigation example item-bottom"}},[a("ul",{staticClass:"pagination pagination-sm justify-content-end"},[a("li",{staticClass:"page-item",class:[{disabled:1==t.pagination.current_page}||""==t.pagination],staticStyle:{cursor:"pointer"}},[a("a",{staticClass:"page-link",on:{click:function(e){return t.fetchSuppliers(t.page=t.page-1)}}},[t._v(" Prev ")])]),a("li",{staticClass:"page-item disabled"},[a("a",{staticClass:"page-link text-dark"},[t._v("Page "+t._s(t.pagination.current_page)+" of "+t._s(t.pagination.last_page))])]),a("li",{staticClass:"page-item",class:[{disabled:t.pagination.current_page==t.pagination.last_page}],staticStyle:{cursor:"pointer"}},[a("a",{staticClass:"page-link",on:{click:function(e){return t.fetchSuppliers(t.page=t.page+1)}}},[t._v(" Next ")])])])])])])])])]),a("div",{staticClass:"modal fade",class:{show:t.show,"d-block":t.active},attrs:{tabindex:"-1",role:"dialog",id:"addSupplier"}},[a("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header bg-gradient"},[a("h5",{staticClass:"modal-title"},[t._v("Add Category")]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.toggleModal}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.supplier.supplier_name,expression:"supplier.supplier_name"}],staticClass:"form-control form-control-sm mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"text",id:"supname",placeholder:"Supplier Name"},domProps:{value:t.supplier.supplier_name},on:{input:function(e){e.target.composing||t.$set(t.supplier,"supplier_name",e.target.value)}}}),a("label",{attrs:{for:"supname"}},[t._v("Supplier Name")])]),t.errors.supplier_name?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.supplier_name))]):t._e()]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-label-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.supplier.supplier_phone,expression:"supplier.supplier_phone"}],staticClass:"form-control form-control-sm mb-3 rounded-0 border-top-0  border-left-0  border-right-0",attrs:{type:"text",id:"supphone",placeholder:"Supplier Contact"},domProps:{value:t.supplier.supplier_phone},on:{input:function(e){e.target.composing||t.$set(t.supplier,"supplier_phone",e.target.value)}}}),a("label",{attrs:{for:"supphone"}},[t._v("Supplier Contact")])]),t.errors.supplier_phone?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.supplier_phone))]):t._e()]),a("div",{staticClass:"col-sm-4"},[t._m(3),a("select",{directives:[{name:"model",rawName:"v-model",value:t.supplier.supplier_prov,expression:"supplier.supplier_prov"}],staticClass:"form-control form-control-sm rounded-0 bg-transparent border-top-0 border-left-0 border-right-0",class:{"is-invalid":t.errors.supplier_prov},on:{input:function(e){t.fetchCityMuns(e.target.value),t.citymuns=[],t.brgys=[]},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.supplier,"supplier_prov",e.target.multiple?a:a[0])}}},[a("option",{staticClass:"text-dark",attrs:{value:"0",disabled:""}},[t._v("Select Province")]),t._l(t.provinces,(function(e){return a("option",{key:e.id,staticClass:"text-dark",domProps:{value:e.provCode}},[t._v(t._s(e.provDesc))])}))],2),t.errors.supplier_prov?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.supplier_prov))]):t._e()]),a("div",{staticClass:"col-sm-4"},[t._m(4),a("select",{directives:[{name:"model",rawName:"v-model",value:t.supplier.supplier_citymun,expression:"supplier.supplier_citymun"}],staticClass:"form-control form-control-sm rounded-0 bg-transparent border-top-0 border-left-0 border-right-0",class:{"is-invalid":t.errors.supplier_citymun},on:{input:function(e){t.fetchBrgys(e.target.value),t.brgys=[]},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.supplier,"supplier_citymun",e.target.multiple?a:a[0])}}},[a("option",{staticClass:"text-dark",attrs:{value:"0",disabled:""}},[t._v("Select City")]),t._l(t.citymuns,(function(e){return a("option",{key:e.id,staticClass:"text-dark",domProps:{value:e.citymunCode}},[t._v(t._s(e.citymunDesc))])}))],2),t.errors.supplier_citymun?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.supplier_citymun))]):t._e()]),a("div",{staticClass:"col-sm-4"},[t._m(5),a("select",{directives:[{name:"model",rawName:"v-model",value:t.supplier.supplier_brgy,expression:"supplier.supplier_brgy"}],staticClass:"form-control form-control-sm rounded-0 bg-transparent border-top-0 border-left-0 border-right-0",class:{"is-invalid":t.errors.supplier_brgy},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.supplier,"supplier_brgy",e.target.multiple?a:a[0])}}},[a("option",{staticClass:"text-dark",attrs:{value:"0",disabled:""}},[t._v("Select Baranggay")]),t._l(t.brgys,(function(e){return a("option",{key:e.brgyCode,staticClass:"text-dark",domProps:{value:e.brgyCode}},[t._v(t._s(e.brgyDesc))])}))],2),t.errors.supplier_brgy?a("small",{staticClass:"text-danger font-weight-bold"},[t._v(t._s(t.errors.supplier_brgy))]):t._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[t.msg?a("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v(" "+t._s(t.msg)+" ")]):t._e()])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.addSupplier}},[t._v("Save changes")])])])])])])},he=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"text-center"},[a("th",[t._v("Supplier Name")]),a("th",[t._v("Contact")]),a("th",[t._v("Address")]),a("th",[t._v("Action")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"text-center"},[a("td",{attrs:{colspan:"9"}},[a("p",{staticClass:"text-danger text-center"},[t._v("No Records...")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"float-left ml-2"},[a("i",{staticClass:"fas fa-arrow-left"}),t._v(" Back")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"ml-4 text-muted",attrs:{for:""}},[a("small",[t._v("Province")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"ml-4 text-muted",attrs:{for:""}},[a("small",[t._v("City/Municipality")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"ml-4 text-muted",attrs:{for:""}},[a("small",[t._v("Barangay")])])}],ge={data:function(){return{suppliers:[],category_types:[],supplier:{id:0,supplier_name:"",supplier_prov:0,supplier_citymun:0,supplier_brgy:0,supplier_phone:0},active:!1,show:!1,pagination:[],edit:!1,errors:[],page:1,msg:null,provinces:[],citymuns:[],brgys:[]}},created:function(){this.fetchSuppliers(this.page),this.fetchProvinces()},computed:{validCategoryName:function(){return this.category.category_name.length<=1},validCategoryType:function(){return 0==this.category.type_id},validStatus:function(){return 0==this.category.category_status}},methods:{back:function(){this.$router.push("/")},validSupName:function(){return this.supplier.supplier_name.length<=1},validContact:function(){return this.supplier.supplier_phone.length<=5||0==this.supplier.supplier_phone},validProvince:function(){return 0==this.supplier.supplier_prov},validCity:function(){return 0==this.supplier.supplier_citymun},validBarangay:function(){return 0==this.supplier.supplier_brgy},toggleModal:function(){var t=this,e=document.querySelector("body");this.active=!this.active,this.active?e.classList.add("modal-open"):e.classList.remove("modal-open"),setTimeout((function(){return t.show=!t.show}),10)},fetchSuppliers:function(t){var e=this,s=a("bc3a");s.get("/api/getAllSuppliers/?page="+t).then((function(t){e.suppliers=t.data.data,e.pagination=t.data.pagination})).catch((function(t){console.log(t)}))},fetchProvinces:function(){var t=this,e=a("bc3a");e.get("/api/getAllProvinces/").then((function(e){t.provinces=e.data.data})).catch((function(t){console.log(t)}))},fetchCityMuns:function(t){var e=this,s=a("bc3a");s.get("/api/getCityMun/?provCode="+t).then((function(t){e.citymuns=t.data.data})).catch((function(t){console.log(t)}))},fetchBrgys:function(t){var e=this,s=a("bc3a");s.get("/api/getBarangay/?citymunCode="+t).then((function(t){e.brgys=t.data.data})).catch((function(t){console.log(t)}))},searchSupplier:function(t){var e=this,s=a("bc3a");e.timer&&(clearTimeout(e.timer),e.timer=null),e.timer=setTimeout((function(){s.get("/api/searchSupplier/?supplier_name="+t+"&page="+e.page).then((function(t){e.suppliers=t.data.data,e.pagination=t.data.pagination})).catch((function(t){console.log(t)}))}),500)},addSupplier:function(){var t=this;if(t.errors=[],t.validSupName()&&(t.errors.supplier_name="Please input Supplier Name."),t.validContact()&&(t.errors.supplier_phone="Please input Supplier Contact."),t.validProvince()&&(t.errors.supplier_prov="Please Select Province."),t.validCity()&&(t.errors.supplier_citymun="Please Select City."),t.validBarangay()&&(t.errors.supplier_brgy="Please Select Barangay."),!t.validSupName()&&!t.validContact()&&!t.validProvince()&&!t.validCity()&&!t.validBarangay()){var e=a("bc3a");0==t.edit?e.post("/api/addSupplier/",t.supplier).then((function(e){t.msg=e.data.msg,setTimeout((function(){t.msg=null}),2e3),t.fetchSuppliers(t.page)})).catch((function(t){console.log(t)})):e.put("/api/updateSupplier/",t.supplier).then((function(e){t.msg=e.data.msg,setTimeout((function(){t.msg=null}),2e3),t.fetchSuppliers(t.page)})).catch((function(t){console.log(t)}))}},editSupplier:function(t){var e=this;e.toggleModal(),e.edit=!0,e.supplier.id=t.id,e.supplier.supplier_name=t.supplier_name,e.supplier.supplier_phone=t.supplier_phone,e.supplier.supplier_prov=t.supplier_prov,e.supplier.supplier_citymun=t.supplier_citymun,e.supplier.supplier_brgy=t.supplier_brgy,e.fetchCityMuns(t.supplier_prov),e.fetchBrgys(t.supplier_citymun)},deleteSupplier:function(t,e){var s=this;if(!confirm("Do you wat to delete "+e))return!1;var o=a("bc3a");o.put("/api/deleteSupplier/",{id:t}).then((function(){s.fetchSuppliers(s.page)})).catch((function(t){console.log(t)}))}}},be=ge,Ce=Object(_["a"])(be,fe,he,!1,null,null,null),ye=Ce.exports,xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"background-color":"#ffffff"}},[a("div",{staticClass:"row"},[t._m(0),a("div",{staticClass:"col-sm-6 mt-3"},[a("strong",[t._v("From:")]),t._v(" "+t._s(t.fdate))]),a("div",{staticClass:"col-sm-6 mt-3"},[a("strong",[t._v("To:")]),t._v(" "+t._s(t.tdate))]),a("div",{staticClass:"col-sm-6 mt-3"},[a("strong",[t._v("Category:")]),t._v(" "+t._s(""!=t.categories?t.categories:"All Categories"))]),a("div",{staticClass:"col-sm-12 mt-4"},[a("div",{staticClass:"card fullheight rounded-0"},[a("div",{staticClass:"card-body"},[a("table",{staticClass:"table text-center"},[t._m(1),a("tbody",t._l(t.inventories,(function(e){return a("tr",{key:e.id,staticClass:"border-bottom"},[a("td",[t._v(t._s(e.product_name))]),a("td",[t._v(t._s(e.category_name))]),a("td",[t._v(t._s(e.begstock_qty))]),a("td",[t._v(t._s(e.purchase_qty))]),a("td",[t._v(t._s(e.sales_qty))]),a("td",[t._v(t._s(e.spoilage_qty))]),a("td",[t._v(t._s(e.endstock_qty))])])})),0)])])])])]),t._m(2),t._m(3)])},we=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-12 text-center"},[a("h5",[t._v("Cabanatuan City, Nueva Ecija")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Product")]),a("th",[t._v("Category")]),a("th",[t._v("Beginning")]),a("th",[t._v("Purchase")]),a("th",[t._v("Sold")]),a("th",[t._v("Spoilage")]),a("th",[t._v("Ending")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mx-auto mt-5"},[a("div",{staticClass:"col-sm-4 signature"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mx-auto"},[a("div",{staticClass:"col-sm-4"},[t._v(" Checked By: ")])])}],Pe={data:function(){return{categories:[],inventories:[],page:1,fdate:u()(this.$route.query.fdate).format("MMM DD, YYYY hh:mm A"),tdate:u()(this.$route.query.tdate).format("MMM DD, YYYY hh:mm A")}},created:function(){this.fetchCategories(this.$route.query.catid),this.fetchInventory()},methods:{back:function(){this.$router.push("/")},fetchCategories:function(t){var e=this,s=a("bc3a");s.get("/api/getCategoryName/?id="+t).then((function(t){e.categories=t.data.data})).catch((function(t){console.log(t)}))},fetchInventory:function(){var t=this,e=a("bc3a");e.get("/api/getAllInventories/?page=&fdate="+this.$route.query.fdate+"&tdate="+this.$route.query.tdate+"&category_id="+this.$route.query.catid+"&product_name="+this.$route.query.product_name).then((function(e){t.inventories=e.data.data,t.loading=!1})).catch((function(t){console.log(t)}))}}},ke=Pe,Se=Object(_["a"])(ke,xe,we,!1,null,null,null),De=Se.exports,Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row no-gutters bg-light"},[a("div",{staticClass:"col-12 mb-4 font-weight-bold text-center"},[t._v(" Dated From : "+t._s(t.fdate)+" To : "+t._s(t.tdate)+" ")]),1==t.$route.query.typeid?a("div",{staticClass:"col-12"},[a("table",{staticClass:"table table-sm text-center"},[t._m(0),t._l(t.sales_prods,(function(e){return a("tbody",{key:e.id},[a("tr",[a("td",{staticClass:"align-middle"},[t._v(t._s(e.product_name))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.category_name))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s(e.unit_price))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.tot_qty))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s((e.unit_price*e.tot_qty).toFixed(2)))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s(e.tot_amount))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s(e.tot_disc))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s(e.tot_vat))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s((e.tot_amount-e.tot_vat-e.tot_disc).toFixed(2)))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s((e.tot_amount-e.tot_vat-e.tot_disc-e.unit_price*e.tot_qty).toFixed(2)))])])])})),a("tbody",[a("tr",{staticClass:"font-weight-bold"},[a("td",{staticClass:"text-right",attrs:{colspan:"4"}},[t._v("TOTAL:")]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.unitCostTotal))]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.salesTotal))]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.discountTotal))]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.vatTotal))]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.totalAmount))]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.totalProfit))])])])],2)]):2==t.$route.query.typeid?a("div",{staticClass:"col-12"},[a("table",{staticClass:"table table-sm text-center"},[t._m(1),t._l(t.sales_cats,(function(e){return a("tbody",{key:e.category_id},[a("tr",[a("td",{staticClass:"align-middle"},[t._v(t._s(e.category_name))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.tot_qty))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s(e.unit_price))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s(e.tot_cost))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s(e.tot_amount))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s(e.tot_disc))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s(e.tot_vat))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s((e.tot_amount-e.tot_vat-e.tot_disc).toFixed(2)))]),a("td",{staticClass:"align-middle"},[t._v("₱ "+t._s((e.tot_amount-e.tot_vat-e.tot_disc-e.tot_cost).toFixed(2)))])])])})),a("tbody",[a("tr",{staticClass:"font-weight-bold"},[a("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("TOTAL:")]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.unitCostTotal))]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.salesTotal))]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.discountTotal))]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.vatTotal))]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.totalAmount))]),a("td",{staticClass:"text-center"},[t._v("₱ "+t._s(t.totalProfit))])])])],2)]):t._e()])},Ne=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Product Name")]),a("th",[t._v("Category")]),a("th",[t._v("Unit Cost")]),a("th",[t._v("Sold")]),a("th",[t._v("Total Cost")]),a("th",[t._v("Total Price")]),a("th",[t._v("Discount")]),a("th",[t._v("Vat Amount")]),a("th",[t._v("Total Amount")]),a("th",[t._v("Total Profit")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v("Category Name")]),a("th",[t._v("Sold")]),a("th",[t._v("Unit Cost")]),a("th",[t._v("Total Cost")]),a("th",[t._v("Total Price")]),a("th",[t._v("Discount")]),a("th",[t._v("Vat")]),a("th",[t._v("Total Amount")]),a("th",[t._v("Total Profit")])])}],Te={data:function(){return{sales_cats:[],sales_prods:[],fdate:u()(this.$route.query.fdate).format("MMM DD, YYYY"),tdate:u()(this.$route.query.tdate).format("MMM DD, YYYY")}},created:function(){this.fetchSalesProduct()},methods:{fetchSalesProduct:function(){var t=this,e=a("bc3a");e.get("/api/getAllSalesProduct/?frdate="+t.$route.query.fdate+"&tdate="+t.$route.query.tdate).then((function(e){var a=e.data.data;t.sales_prods=a.filter((function(t){return 0!=t.tot_qty}))})).catch((function(t){console.log(t)})),e.get("/api/getAllSalesCategory/?frdate="+t.$route.query.fdate+"&tdate="+t.$route.query.tdate).then((function(e){var a=e.data.data;t.sales_cats=a.filter((function(t){return 0!=t.tot_qty}))})).catch((function(t){console.log(t)}))}},computed:{salesTotal:function(){var t=0;return this.sales_prods.forEach((function(e){t+=parseFloat(e.tot_amount)})),t.toFixed(2)},unitCostTotal:function(){var t=0;return this.sales_prods.forEach((function(e){t+=parseFloat(e.unit_price*e.tot_qty)})),t.toFixed(2)},vatTotal:function(){var t=0;return this.sales_prods.forEach((function(e){t+=parseFloat(e.tot_vat)})),t.toFixed(2)},discountTotal:function(){var t=0;return this.sales_prods.forEach((function(e){t+=parseFloat(e.tot_disc)})),t.toFixed(2)},totalAmount:function(){var t=0;return this.sales_prods.forEach((function(e){t+=parseFloat(e.tot_amount-e.tot_vat-e.tot_disc)})),t.toFixed(2)},totalProfit:function(){return(this.totalAmount-this.unitCostTotal).toFixed(2)}}},$e=Te,Ae=Object(_["a"])($e,Ee,Ne,!1,null,null,null),Me=Ae.exports,je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"background-color":"#ffffff"}},[t._m(0),a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("p",[a("b",[t._v("Cashier: ")]),t._v(t._s(t.sales.employee_fn+" "+t.sales.employee_sn))])]),a("div",{staticClass:"col-sm-6"},[a("p",[a("b",[t._v("Customer: ")]),t._v(t._s(t.sales.customer_name))])]),a("div",{staticClass:"col-sm-6"},[a("p",[a("b",[t._v("Payment: ")]),t._v(t._s(t.sales.payment_name))])]),a("div",{staticClass:"col-sm-6"},[a("p",[a("b",[t._v("Date: ")]),t._v(t._s(t.dtFormat(t.sales.created_at)))])])])]),a("div",{staticClass:"col-sm-12"},[a("table",{staticClass:"table table-sm text-center"},[t._m(1),t._l(t.sales_orders,(function(e){return a("tbody",{key:e.sales_id},[a("tr",[a("td",[t._v(t._s(e.product_name))]),a("td",[t._v(t._s(e.product_qty))]),a("td",[t._v("₱ "+t._s(e.vat_amount))]),a("td",[t._v("₱ "+t._s(e.discount_amount))]),a("td",[t._v("₱ "+t._s(e.total_amount))])])])}))],2)]),t._m(2),t._m(3)])},Ye=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-sm-12 text-center"},[a("h2",[t._v("Generic POS")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Product Name")]),a("th",[t._v("Quantity")]),a("th",[t._v("Vat")]),a("th",[t._v("Discount")]),a("th",[t._v("Total")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mx-auto mt-5"},[a("div",{staticClass:"col-sm-4 signature"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mx-auto"},[a("div",{staticClass:"col-sm-4"},[t._v(" Checked By: ")])])}],qe={data:function(){return{sales_orders:[],sales:[]}},created:function(){this.fetchSalesOrder(),this.fetchSalesInvoiceById()},methods:{dtFormat:function(t){return u()(t).format("MMM DD, YYYY hh:mm A")},fetchSalesOrder:function(){var t=this;Yt.a.get("/api/getSalesOrderById/?sales_id="+this.$route.query.sales_id).then((function(e){t.sales_orders=e.data.data})).catch((function(t){console.log(t)}))},fetchSalesInvoiceById:function(){var t=this;Yt.a.get("/api/getSalesInvoiceById/?id="+this.$route.query.sales_id).then((function(e){console.log(e.data),t.sales=e.data[0]})).catch((function(t){console.log(t)}))}}},Ie=qe,Oe=Object(_["a"])(Ie,je,Ye,!1,null,null,null),Fe=Oe.exports,Be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"background-color":"#ffffff"}},[t._m(0),t._l(t.remittances,(function(e){return a("div",{key:e.id,staticClass:"row mx-auto"},[1==e.iscancel?a("img",{staticStyle:{position:"absolute",width:"600px","z-index":"10"},attrs:{src:t.imgURL+"cancelled.png"}}):t._e(),a("div",{staticClass:"col-sm-6"},[a("strong",[t._v("Remitted By:")]),t._v(" "+t._s(e.employee_fn+" "+e.employee_sn))]),a("div",{staticClass:"col-sm-6"},[a("strong",[t._v("Date:")]),t._v(" "+t._s(t.remitDtFormat(e.created_at)))])])})),a("br"),a("br"),a("div",{staticClass:"row mx-auto"},[a("div",{staticClass:"col-sm-12"},[a("table",{staticClass:"table text-center"},[t._m(1),a("tbody",t._l(t.remit_details,(function(e){return a("tr",{key:e.id,staticClass:"border-bottom"},[a("td",[t._v(t._s(e.remit_qty))]),a("td",[t._v("₱ "+t._s(e.remit_amount))]),a("td",[t._v("₱ "+t._s(e.remit_total))])])})),0),a("tbody",[a("tr",[a("td",{staticClass:"text-right font-weight-bold",attrs:{colspan:"2"}},[t._v("Total:")]),a("td",[t._v("₱ "+t._s(t.totalAmount))])])])])])]),t._m(2),t._m(3)],2)},Re=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mx-auto"},[a("div",{staticClass:"col-sm-12"},[a("h5",[t._v("Cabanatuan City, Nueva Ecija")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Quantity")]),a("th",[t._v("Amount")]),a("th",[t._v("Total")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mx-auto mt-4"},[a("div",{staticClass:"col-sm-4 signature"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mx-auto"},[a("div",{staticClass:"col-sm-4"},[t._v(" Checked By: ")])])}],Ue={data:function(){return{remittances:[],remit_details:[],imgURL:"http://localhost/grocery/public/images/"}},created:function(){this.fetchRemittances(),this.fetchRemittanceDetails()},computed:{totalAmount:function(){var t=0;return this.remit_details.forEach((function(e){t+=parseFloat(e.remit_total)})),t.toFixed(2)}},methods:{remitDtFormat:function(t){return u()(t).format("MMMM DD, YYYY hh:mm:ss A")},fetchRemittances:function(){var t=this,e=a("bc3a");e.get("/api/getAllRemittancesById/?remit_id="+t.$route.query.remit_id).then((function(e){t.remittances=e.data.data})).catch((function(t){console.log(t)}))},fetchRemittanceDetails:function(){var t=this,e=a("bc3a");e.get("/api/getAllRemittanceDetailsById/?remit_id="+t.$route.query.remit_id).then((function(e){t.remit_details=e.data.data})).catch((function(t){console.log(t)}))}}},Le=Ue,ze=Object(_["a"])(Le,Be,Re,!1,null,null,null),Qe=ze.exports,He=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{"background-color":"#ffffff"}},[t._m(0),1==t.spoilage.iscancel?a("img",{staticStyle:{position:"absolute",width:"600px","z-index":"10"},attrs:{src:t.imgURL+"cancelled.png"}}):t._e(),a("div",{staticClass:"row mx-auto"},[a("div",{staticClass:"col-sm-6"},[a("strong",[t._v("Remitted By:")]),t._v(" "+t._s(t.spoilage.employee_fn+" "+t.spoilage.employee_sn))]),a("div",{staticClass:"col-sm-6"},[a("strong",[t._v("Date:")]),t._v(" "+t._s(t.spoilageDtFormat(t.spoilage.created_at)))])]),a("br"),a("br"),a("div",{staticClass:"row mx-auto"},[a("div",{staticClass:"col-sm-12"},[a("table",{staticClass:"table text-center"},[t._m(1),a("tbody",t._l(t.spoilage_products,(function(e){return a("tr",{key:e.id,staticClass:"border-bottom"},[a("td",{staticClass:"border-bottom"},[t._v(t._s(e.product_name))]),a("td",{staticClass:"border-bottom"},[t._v(t._s(e.spoilage_qty))])])})),0)])])]),t._m(2),t._m(3)])},Ve=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mx-auto"},[a("div",{staticClass:"col-sm-12 text-center"},[a("h5",[t._v("Cabanatuan City, Nueva Ecija")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Product Name")]),a("th",[t._v("Quantity")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mx-auto mt-4"},[a("div",{staticClass:"col-sm-4 signature"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row mx-auto"},[a("div",{staticClass:"col-sm-4"},[t._v(" Checked By: ")])])}],Ge={data:function(){return{spoilage:[],spoilage_products:[],imgURL:"http://localhost/grocery/public/images/"}},created:function(){this.fetchSpoilage(),this.fetchSpoilageProducts()},computed:{},methods:{spoilageDtFormat:function(t){return u()(t).format("MMMM DD, YYYY hh:mm:ss A")},fetchSpoilage:function(){var t=this,e=a("bc3a");e.get("/api/getSpoilageById/?spoilage_id="+t.$route.query.spoilage_id).then((function(e){t.spoilage=e.data[0]})).catch((function(t){console.log(t)}))},fetchSpoilageProducts:function(){var t=this,e=a("bc3a");e.get("/api/getAllSpoilageProductsById/?spoilage_id="+t.$route.query.spoilage_id).then((function(e){t.spoilage_products=e.data.data})).catch((function(t){console.log(t)}))}}},Xe=Ge,We=Object(_["a"])(Xe,He,Ve,!1,null,null,null),Je=We.exports,Ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fullheight"},[a("div",{staticClass:"container h-100 text-center"},[a("div",{staticClass:"row h-100 justify-content-center align-items-center"},[a("div",{staticClass:"col-12"},[a("h1",{staticClass:"display-2"},[t._v("₱ "+t._s(t.$route.params.change))]),a("router-link",{staticClass:"pt-3",attrs:{to:"/terminal"}},[a("i",{staticClass:"fas fa-long-arrow-alt-left"}),t._v(" Go back")])],1)])])])},Ke=[],ta={mounted:function(){this.$route.params.change||this.$router.push("/")}},ea=ta,aa=Object(_["a"])(ea,Ze,Ke,!1,null,null,null),sa=aa.exports;n["a"].use(h["a"]),n["a"].use(b.a),n["a"].use(C["c"]);var oa=n["a"].prototype.$session,ra=[{path:"/",name:"HOME",component:S},{path:"/login",name:"Login",component:A},{path:"/terminal",name:"POS TERMINAL",component:B},{path:"/terminal/payment",name:"PAYMENT",component:V},{path:"/product",name:"PRODUCTS",component:K},{path:"/category",name:"CATEGORIES",component:rt},{path:"/purchase",name:"PURCHASES",component:ut},{path:"/purchase-product",name:"PURCHASE PRODUCTS",component:ht},{path:"/inventory",name:"INVENTORY",component:wt},{path:"/sales-report",name:"SALES REPORT",component:Ft},{path:"/cash-drop",name:"CASH DROP",component:Qt},{path:"/expense",name:"CASH EXPENSE",component:Jt},{path:"/expense-details",name:"EXPENSE DETAILS",component:se},{path:"/spoilage",name:"SPOILAGE",component:ce},{path:"/settings",name:"SETTINGS",component:ve},{path:"/supplier",name:"SUPPLIERS",component:ye},{path:"/print/inventory",name:"Print Inventory",component:De},{path:"/print/sales",name:"Print Sales",component:Me},{path:"/print/sales-receipt",name:"SALES RECEIPT",component:Fe},{path:"/print/cash-drop",name:"REMITTANCE",component:Qe},{path:"/print/spoilage",name:"PSPOILAGE",component:Je},{path:"/change",name:"CHANGE",component:sa}],ia=new h["a"]({mode:"history",base:"/",routes:ra});ia.beforeEach((function(t,e,a){"Login"===t.name||oa.exists()?a():a({name:"Login"})}));var na=ia;a("becf"),a("ab8b"),a("034b"),a("f507");Yt.a.defaults.baseURL="http://localhost/grocery/public",n["a"].config.productionTip=!1,new n["a"]({router:na,render:function(t){return t(f)}}).$mount("#app")}});
//# sourceMappingURL=app.8c631744.js.map